"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{63156:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>HighchartComponent});var _home_drpbpatel_Documents_git_zen_dash_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8239),angular_highcharts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(44740),highcharts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1282),highcharts__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(highcharts__WEBPACK_IMPORTED_MODULE_0__),node_modules_highcharts_modules_sankey__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9338),node_modules_highcharts_modules_sankey__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(node_modules_highcharts_modules_sankey__WEBPACK_IMPORTED_MODULE_1__),node_modules_highcharts_modules_funnel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57397),node_modules_highcharts_modules_funnel__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(node_modules_highcharts_modules_funnel__WEBPACK_IMPORTED_MODULE_2__),node_modules_highcharts_modules_gantt__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73730),node_modules_highcharts_modules_gantt__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(node_modules_highcharts_modules_gantt__WEBPACK_IMPORTED_MODULE_3__),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64537),src_app_services_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(52468);let HighchartComponent=(()=>{class HighchartComponent{constructor(m){this.dataService=m}checkFunction(object){Object.keys(object).forEach(k=>{object[k]&&"object"==typeof object[k]&&this.checkFunction(object[k]),("string"==typeof object[k]||object[k]instanceof String)&&(object[k].includes("new Date")||object[k].includes("function"))&&(object[k]=eval(object[k]))})}ngOnInit(){var m=this;return(0,_home_drpbpatel_Documents_git_zen_dash_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(function*(){m.checkFunction(m.dataService.all_input.get(m.url)?.highchart_data?.config),"chart"==m.dataService.all_input.get(m.url)?.highchart_data?.type&&(m.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.kL(m.dataService.all_input.get(m.url)?.highchart_data?.config)),"stock"==m.dataService.all_input.get(m.url)?.highchart_data?.type&&(m.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.Du(m.dataService.all_input.get(m.url)?.highchart_data?.config)),"map"==m.dataService.all_input.get(m.url)?.highchart_data?.type&&(m.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.T6(m.dataService.all_input.get(m.url)?.highchart_data?.config)),"sankey"==m.dataService.all_input.get(m.url)?.highchart_data?.type&&(node_modules_highcharts_modules_sankey__WEBPACK_IMPORTED_MODULE_1___default()(highcharts__WEBPACK_IMPORTED_MODULE_0__),m.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.kL(m.dataService.all_input.get(m.url)?.highchart_data?.config)),"funnel"==m.dataService.all_input.get(m.url)?.highchart_data?.type&&(node_modules_highcharts_modules_funnel__WEBPACK_IMPORTED_MODULE_2___default()(highcharts__WEBPACK_IMPORTED_MODULE_0__),m.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.kL(m.dataService.all_input.get(m.url)?.highchart_data?.config)),"gantt"==m.dataService.all_input.get(m.url)?.highchart_data?.type&&(node_modules_highcharts_modules_gantt__WEBPACK_IMPORTED_MODULE_3___default()(highcharts__WEBPACK_IMPORTED_MODULE_0__),m.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.kL(m.dataService.all_input.get(m.url)?.highchart_data?.config)),setTimeout(m.resize_it,1e3)})()}resize_it(){window.dispatchEvent(new Event("resize"))}}return HighchartComponent.\u0275fac=function m(U){return new(U||HighchartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(src_app_services_data_service__WEBPACK_IMPORTED_MODULE_7__.D))},HighchartComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Xpm({type:HighchartComponent,selectors:[["app-highchart"]],inputs:{url:"url"},decls:1,vars:1,consts:[[3,"chart"]],template:function m(U,p){1&U&&_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(0,"div",0),2&U&&_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("chart",p.data)},dependencies:[angular_highcharts__WEBPACK_IMPORTED_MODULE_5__.Dm],styles:[".highcharts-container[_ngcontent-%COMP%], .highcharts-root[_ngcontent-%COMP%]{width:100%!important}"]}),HighchartComponent})()},52468:(m,U,p)=>{p.d(U,{D:()=>ct});var S=p(64537),t=p(21312);let ct=(()=>{class Z{constructor(_,d){this.router=_,this.activatedRoute=d,this.defaul_page="page_0",this.all_input=new Map,this.input_emitter=new S.vpe,this.data={global:{device_information:["device_information",{browser:navigator.userAgent,screen_info:{height:screen.availHeight,width:screen.availWidth}}]}},this.data_setter=new S.vpe,this.refresh=new S.vpe,window.data_service=this,window.data_service_get_page=this.get_page,window.data_service_get_all=this.get_all,this.data_setter.subscribe(g=>{this.reset_path(d),void 0===this.data[g.page]&&(this.data[g.page]={}),this.data[g.page][g.url]=[g.key,g.value]})}reset_path(_){let g={};g={page:this.get_page()[0]};let y=new URL(window.location.href),b=new URLSearchParams(y.search);null!==b.get("document_id")&&(null!==b.get("page")?this.router.navigate([],{relativeTo:_,queryParams:{page:b.get("page")}}):this.router.navigate([],{relativeTo:_,queryParams:{}}))}get_page(){let _=new URL(window.location.href),d=new URLSearchParams(_.search),g="page_0";return g=null!==d.get("page")?d.get("page"):this.defaul_page,g}get_data(_,d){if(void 0!==this.data[_])return this.data[_][d]}get_all(){let _;try{_=this.get_page()}catch{_=window.data_service_get_page()}let g,y,d={};Object.keys(localStorage).forEach(b=>{d[b]=localStorage.getItem(b)}),Object.keys(sessionStorage).forEach(b=>{d[b]=sessionStorage.getItem(b)}),d.url=window.location.href;try{g=this.data[_]??{}}catch{g=window.data_service.data[_]??{}}Object.entries(g).forEach(([b,R])=>{d[R[0]]=R[1]});try{y=this.data.global??{}}catch{y=window.data_service.data.global??{}}return Object.entries(y).forEach(([b,R])=>{"page"===b?d[b]=R:d[R[0]]=R[1]}),d}get_input_data(_){return this.all_input.get(_)}set_data(_,d,g){void 0===this.data[_]&&(this.data[_]={}),this.data[_][d]=g}input_lookup(_,d){return d+"$ZenLookup$"+_}trueTypeOf(_){return Object.prototype.toString.call(_).slice(8,-1).toLowerCase()}dataLookup(_){return _?"global":this.get_page()}reset_data(){this.all_input=new Map}save_instance(_,d,g){switch(_.type){case"date":let y=_.date_data;y.second_date?(y.first_date=d[0],y.second_date=d[1]):y.first_date=d,_.date_data=y,this.all_input.set(g,_);break;case"radio":let b=_.radio_data;b.selected=d,_.radio_data=b,this.all_input.set(g,_);break;case"checkbox":let R=_.checkbox_data;R.data=d,_.checkbox_data=R,this.all_input.set(g,_);break;case"slider":let Y=_.slider_data;Y.value=d,_.slider_data=Y,this.all_input.set(g,_);break;case"button_toggle":let $=_.button_toggle_data;if($.multi)for(let B of $.data)B.selected=-1!==d.indexOf(B.name);else for(let B of $.data)B.selected=B.name===d;_.button_toggle_data=$,this.all_input.set(g,_);break;case"toggle":let _t=_.toggle_data;_t.checked=d,_.toggle_data=_t,this.all_input.set(g,_);break;case"simple_filter":let X=_.simple_filter_data;X.selected=X.multi?d:[d],_.simple_filter_data=X,this.all_input.set(g,_);break;case"simple_server_filter":let V=_.simple_server_filter_data;V.selected=V.multi?d:[d],_.simple_server_filter_data=V,this.all_input.set(g,_);break;case"group_filter":let tt=_.group_filter_data;tt.selected=tt.multi?d:[d],_.group_filter_data=tt,this.all_input.set(g,_);break;case"input":let dt=_.input_data;dt.value=d,_.input_data=dt,this.all_input.set(g,_);break;default:console.error(_.type)}}save_default(){let _=this.get_page();for(const[d,g]of Object.entries(this.data.global))try{if("page"!==d){let y=g,b=this.all_input.get(d);this.save_instance(b,y[1],d)}}catch{}try{for(const[d,g]of Object.entries(this.data[_])){let y=g,b=this.all_input.get(d);this.save_instance(b,y[1],d)}}catch{}}isFullCustom(_){return null!=this.all_input.get(_)?.custom_html_data?.full_custom&&this.all_input.get(_)?.custom_html_data?.full_custom}makeid(_){let d="";const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y=g.length;let b=0;for(;b<_;)d+=g.charAt(Math.floor(Math.random()*y)),b+=1;return d}}return Z.\u0275fac=function(_){return new(_||Z)(S.LFG(t.F0),S.LFG(t.gz))},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},34996:(m,U,p)=>{var S=p(5998),t=p(64537),ct=p(68014),Z=p(52612);class C{}class Gt{}var P=p(7666),f=p(88692);function Kt(a,s){if(1&a&&(t.TgZ(0,"span",3)(1,"span",4),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"span",4),t._uU(5," Built using Zen Dash "),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.data.message,"")}}function jt(a,s){if(1&a&&(t.TgZ(0,"span")(1,"span",5),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.data.message,"")}}function zt(a,s){if(1&a&&(t.TgZ(0,"span")(1,"span",6),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.data.message,"")}}function Wt(a,s){1&a&&(t.TgZ(0,"span",3)(1,"span",4),t._uU(2," Built using Zen Dash "),t.qZA()())}let T=(()=>{class a{constructor(e){this.data=e}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(P.qD))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-loading"]],decls:4,vars:4,consts:[["style"," width: 100%; display: inline-block;",4,"ngIf"],[4,"ngIf"],["style","width: 100%; display: inline-block;",4,"ngIf"],[2,"width","100%","display","inline-block"],[1,"success"],[1,"warn"],[1,"error"]],template:function(e,n){1&e&&(t.YNc(0,Kt,6,1,"span",0),t.YNc(1,jt,3,1,"span",1),t.YNc(2,zt,3,1,"span",1),t.YNc(3,Wt,3,0,"span",2)),2&e&&(t.Q6J("ngIf","success"===n.data.status),t.xp6(1),t.Q6J("ngIf","warn"===n.data.status),t.xp6(1),t.Q6J("ngIf","error"===n.data.status),t.xp6(1),t.Q6J("ngIf","loading"===n.data.status))},dependencies:[f.O5],styles:[".warn[_ngcontent-%COMP%]{color:#ffffe0}.error[_ngcontent-%COMP%]{color:#ff69b4}.success[_ngcontent-%COMP%]{color:#90ee90;margin:auto;width:50%;padding:10px}"]}),a})();var Mt=p(21444),Q=p(35732),x=p(52468),J=p(21312),ut=p(87241),mt=p(84945),it=p(33568),ht=p(95990),gt=p(44551),$t=p(98826);let ft=(()=>{class a{constructor(e,n){this.aRoute=e,this.ds=n}request_change(){let e=this.ds.get_all();void 0!==this.subject&&this.subject.next(e)}ws_or_wss(){if(window.location.href.split("/?")[0].includes("https")){let e=window.location.href.split("?")[0].split("https://")[1];return e=e.substring(0,e.length-1),"wss://"+e}{let e=window.location.href.split("?")[0].split("http://")[1];return e=e.substring(0,e.length-1),"ws://"+e}}delay(e){return new Promise(n=>setTimeout(n,e))}save_data(e,n){for(const[i,o]of Object.entries(e)){let l=JSON.parse(o);n.input_emitter.emit({calling:!0,lookup:i,t:void 0,message:void 0}),new Promise(c=>setTimeout(c,2e3)).then(()=>{n.all_input.delete(i),n.all_input.set(i,l),n.input_emitter.emit({calling:!1,lookup:i,t:l,message:void 0})})}}connect(e,n){"complete"===n&&delete this.subject,void 0!==n&&console.log(n);let i=this.ws_or_wss()+e,o=this.ds.get_all();new Promise(r=>setTimeout(r,1e4)).then(()=>{this.subject=(0,$t.j)(i),this.subject.subscribe({next:r=>this.save_data(r,this.ds),error:r=>this.connect(i,r),complete:()=>this.connect(i,"complete")}),this.subject.next(o)})}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(J.gz),t.LFG(x.D))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),F=(()=>{class a{constructor(e,n,i){this.http=e,this.dataService=n,this.ws=i,this.refresh_listener=new t.vpe,this.config={retry_count:2,show_right_sidebar:!1,refresh:{refresh:!0,rate_in_seconds:300},websocket:{active:!1},auth:{SSO:!1,UP_Login:!1}}}get_url(e){let n;if(e.includes("http"))n=e;else{let i=this.my_url();"/"===e[0]&&(e=e.substring(1)),n=i+e}return n}pullConfiguration(e="/backend/configuration"){e=this.get_url(e),this.http.get(e).subscribe(n=>{this.config=n,this.config.websocket.active&&this.ws.connect("/backend/ws"),this.config.refresh.refresh&&this.refresh_listener.emit(!0)})}show_right_sidebar(){return this.config.show_right_sidebar}get_retry(){let e;try{e=this.config.retry_count}catch{e=2}return e}call_response(e,n,i){let o=this.get_url(e),l={};if(void 0!==i){l=i;let w=this.dataService.get_all();Object.entries(w).forEach((D,N)=>{l.append(N,D)})}else l=this.dataService.get_all();let r,c={error:"Error or Unathorized"},u=this.get_retry();return r=void 0===n?this.http.post(o,l).pipe((0,it.K)((w,D)=>u-- >0&&401!==w.status?(0,mt.of)(w).pipe((0,ht.g)(2e3),(0,gt.b)(()=>D)):new ut.y(N=>{N.next(c)}))):this.http.post(o,l,n).pipe((0,it.K)((w,D)=>u-- >0&&401!==w.status?(0,mt.of)(w).pipe((0,ht.g)(1e3),(0,gt.b)(()=>D)):new ut.y(N=>{N.next(c)}))),r}second_call_response(e,n,i){let o=this.get_url(e),l=this.dataService.get_all();void 0!==n&&(l[n]=i);let r,c=this.get_retry(),u={error:"Error or Unathorized"};return r=this.http.post(o,l).pipe((0,it.K)((w,D)=>c-- >0&&401!==w.status?(0,mt.of)(w).pipe((0,ht.g)(1e3),(0,gt.b)(()=>D)):new ut.y(N=>{N.next(u)}))),r}my_url(){return window.location.href.split("?")[0]}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(Q.eN),t.LFG(x.D),t.LFG(ft))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var xt=p(24580),Jt=p(44083);let It=(()=>{class a{constructor(e){this.cookie=e}not_logged(){return""===this.cookie.get("auth_token")}removed_cookie(){this.cookie.delete("auth_token")}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(Jt.N))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var O=p(46842),I=p(9638),L=p(83331),K=p(50814),et=p(83319),st=p(42094),bt=p(64639),Pt=p(25295),Et=p(46438),q=p(47408);const Xt=["script"];function Vt(a,s){if(1&a&&(t.TgZ(0,"mat-card-footer",4),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getFooter()," ")}}function te(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-header",1)(2,"h4"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"app-sub-entry-point",2),t.NdJ("rd",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.rd.emit(i))})("fd",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.fx.emit(i))}),t.qZA()(),t.YNc(6,Vt,2,1,"mat-card-footer",3),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.getTitle()),t.xp6(2),t.Q6J("url",e.url)("isSidebar",e.isSidebar),t.xp6(1),t.Q6J("ngIf",e.getFooter())}}function ee(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-custom-html",5),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.url)}}let nt=(()=>{class a{constructor(e,n){this.ds=e,this.cd=n,this.fx=new t.vpe,this.rd=new t.vpe,this.pulled=!1,this.script_code=""}ngOnInit(){let e="";e=this.isSidebar?"sidebar":this.ds.get_page(),this.look_up=this.ds.input_lookup(e,this.url)}ngAfterViewInit(){this.cd.detectChanges()}getFooter(){return void 0!==this.ds.all_input.get(this.look_up)&&this.ds.all_input.get(this.look_up)?.footer}getTitle(){return void 0!==this.ds.all_input.get(this.look_up)?this.ds.all_input.get(this.look_up)?.title:""}get_lookup_url(){this.ds.get_page();let n="";n=this.isSidebar?"sidebar":this.ds.get_page(),this.look_up=this.ds.input_lookup(n,this.url)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-entry-point"]],viewQuery:function(e,n){if(1&e&&t.Gf(Xt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.script=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},outputs:{fx:"fx",rd:"rd"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],[3,"url","isSidebar","rd","fd"],["style","font-size: 10px; text-align: center",4,"ngIf"],[2,"font-size","10px","text-align","center"],[3,"url"]],template:function(e,n){1&e&&(t.YNc(0,te,7,4,"mat-card",0),t.YNc(1,ee,2,1,"span",0)),2&e&&(t.Q6J("ngIf",!n.ds.isFullCustom(n.look_up)),t.xp6(1),t.Q6J("ngIf",n.ds.isFullCustom(n.look_up)))}}),a})();function ne(a,s){1&a&&t._UZ(0,"p")}function ae(a,s){if(1&a&&(t.TgZ(0,"mat-list-option",6)(1,"a",7)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&a){const e=t.oxw(),n=e.index,i=e.$implicit,o=t.oxw(4);t.Q6J("selected","page_"+n===o.page),t.xp6(1),t.Udp("height","45px"),t.Q6J("routerLink",".")("queryParams",o.get_page_url(n,i.custom_url,i.url)),t.xp6(2),t.hij("",i.icon," "),t.xp6(1),t.hij(" ",i.label," ")}}function ie(a,s){if(1&a&&(t.TgZ(0,"mat-list-option",6)(1,"a",7)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&a){const e=s.$implicit,n=s.index,i=t.oxw(2).index,o=t.oxw(4);t.Q6J("selected","page_"+i+"_"+n===o.page),t.xp6(1),t.Udp("height","45px"),t.Q6J("routerLink",".")("queryParams",o.get_subpage_url(i,n,e.custom_url,e.url)),t.xp6(2),t.hij("",e.icon," "),t.xp6(1),t.hij(" ",e.label," ")}}function se(a,s){if(1&a&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header"),t._uU(2),t.qZA(),t.TgZ(3,"mat-nav-list"),t.YNc(4,ie,5,7,"mat-list-option",8),t.qZA()()),2&a){const e=t.oxw().$implicit;t.ekj("mat-elevation-z0",!0),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",e.subtabs)}}function oe(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,ne,1,0,"p",3),t.YNc(2,ae,5,7,"ng-template",null,4,t.W1O),t.YNc(4,se,5,4,"ng-template",null,5,t.W1O),t.qZA()),2&a){const e=s.$implicit,n=t.MAs(3),i=t.MAs(5);t.xp6(1),t.Q6J("ngIf",e.icon)("ngIfThen",n)("ngIfElse",i)}}function le(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,oe,6,3,"span",2),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.getSideData())}}function re(a,s){if(1&a){const e=t.EpF();t.ynx(0),t._UZ(1,"mat-divider")(2,"br"),t.TgZ(3,"app-entry-point",9),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.setReactivity(l.url,i))}),t.qZA(),t._UZ(4,"br"),t.BQk()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i;t.xp6(3),t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",!0)}}function pe(a,s){if(1&a&&(t.TgZ(0,"span")(1,"mat-selection-list",1),t.YNc(2,le,2,1,"span",0),t.qZA(),t._UZ(3,"br")(4,"br"),t.YNc(5,re,5,3,"ng-container",2),t._UZ(6,"br"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("multiple",!1),t.xp6(1),t.Q6J("ngIf",e.isSideData()),t.xp6(3),t.Q6J("ngForOf",e.side_data.filters)}}function ce(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,pe,7,3,"span",0),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",void 0!==e.side_data)}}let _e=(()=>{class a{constructor(e,n,i,o,l){this.http=e,this.aRoute=n,this.call=i,this.auth=o,this.ds=l,this.size=new t.vpe,this.reactivityData=new Map,this.flexData=new Map,this.page=null,this.aRoute.queryParamMap.subscribe(r=>{this.page=r.get("page")})}ngOnInit(){this.http.get(this.call.my_url()+this.url).subscribe(e=>{this.side_data=e,console.log(`Python library version is ${this.side_data.library_version}`);try{this.side_data.tabs.forEach(n=>{throw void 0!==n.label?(this.page="page_0",this.ds.defaul_page="page_0"):void 0!==n.name&&(this.page="page_0_0",this.ds.defaul_page="page_0_0"),"break"})}catch{}this.size.emit(this.side_data.size)})}getSideData(){return this.side_data?.tabs}isSideData(){return this.side_data?.tabs.length>0}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}get_subpage_url(e,n,i,o){return o?{page:o}:i?{page:i}:{page:"page_"+e+"_"+n}}get_page_url(e,n,i){return i?{page:i}:n?{page:n}:{page:"page_"+e}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Q.eN),t.Y36(J.gz),t.Y36(F),t.Y36(It),t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-sidebar"]],inputs:{url:"url"},outputs:{size:"size"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"multiple"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock2",""],["elseBlock2",""],[3,"selected"],["mat-list-item","","type","button",3,"routerLink","queryParams"],[3,"selected",4,"ngFor","ngForOf"],[3,"hidden","url","isSidebar","fx","rd"]],template:function(e,n){1&e&&t.YNc(0,ce,2,1,"span",0),2&e&&t.Q6J("ngIf",!((n.call.config.auth.SSO||n.call.config.auth.UP_Login)&&n.auth.not_logged()))},dependencies:[Et.d,q.ib,q.yz,L.Hw,K.Hk,K.Tg,K.Ub,K.vS,f.sg,f.O5,J.yS,nt],styles:[".mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.toolbar-item-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-container[_ngcontent-%COMP%]{height:90%;margin:0}.app-sidenav[_ngcontent-%COMP%]{width:230px}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}"]}),a})();var h=p(20092),A=p(11997),v=p(88659),j=p(39665);function de(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-content")(2,"h2"),t._uU(3,"Login with Username and Password"),t.qZA(),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7,"Username"),t.qZA(),t._UZ(8,"input",3),t.qZA(),t.TgZ(9,"mat-form-field",2)(10,"mat-label"),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",4),t.qZA(),t.TgZ(13,"div",5)(14,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login_logic())}),t._uU(15,"Login"),t.qZA()()()()()}}function ue(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-content")(2,"h2"),t._uU(3,"Login with Single Sign-On (SSO)"),t.qZA(),t.TgZ(4,"form")(5,"div",5)(6,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sso_logic())}),t._uU(7,"Login with SSO"),t.qZA()()()()()}}let me=(()=>{class a{constructor(e,n,i,o){this.router=e,this.http=n,this.call=i,this._snackBar=o,this.is_sso=!0}ngOnInit(){}login_logic(){let e=this.call.get_url("/auth/up_login");this.http.post(e,{}).subscribe(n=>{this._snackBar.openFromComponent(T,{duration:1e4,data:{message:"Authentication Failure",status:"error"}})})}sso_logic(){let e=this.call.get_url("/auth/login");window.location.replace(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(J.F0),t.Y36(Q.eN),t.Y36(F),t.Y36(P.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-login"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","min-height","100vh"],[4,"ngIf"],["appearance","fill"],["matInput","","type","text"],["matInput","","type","password"],[2,"display","flex","justify-content","center","align-items","center"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,de,16,0,"mat-card",1),t.YNc(2,ue,8,0,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!n.is_sso),t.xp6(1),t.Q6J("ngIf",n.is_sso))},dependencies:[h._Y,h.JL,h.F,I.lW,A.a8,A.dn,v.KE,v.hX,j.Nt,f.O5]}),a})();function he(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",1),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(27);return t.KtG(i.toggle())}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()()()}}function ge(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-login"),t.qZA())}function fe(a,s){1&a&&t._UZ(0,"router-outlet")}let xe=(()=>{class a{constructor(e,n,i,o,l,r,c,u,w,D,N){this.http=i,this.ds=o,this._snackBar=l,this.aRoute=r,this.call=c,this.titleService=u,this.clipboard=w,this.ws=D,this.auth=N,this.durationInSeconds=5,this.mySize="500px",this.mySize2="500px",this.color="primary",this.checked=!1,this.mobileQuery=n.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}setTitle(){this.http.get(this.call.my_url()+"backend/title").subscribe(e=>{this.titleService.setTitle(e),this.title=e})}setGlobals(){this.ws.request_change();let e=this.ds.get_page();void 0===this.ds.data.global&&(this.ds.data.global={}),this.ds.data.global.page=e,this.color="primary"}sendWSRequest(){this.call.config.websocket.active&&this.ws.request_change()}trigger_load(){this._snackBar.openFromComponent(T,{duration:5e3,panelClass:["full_width"],data:{message:"API called Sucessfully ",status:"loading"}})}ngOnInit(){this.call.pullConfiguration(),this.ds.data_setter.subscribe(e=>{this.color="warn"}),this.aRoute.queryParamMap.subscribe(e=>{this.setGlobals()}),this.trigger_load(),this.show_right_sidebar=this.call.config.show_right_sidebar,this.getScripts(),this.setTitle(),this.call.refresh_listener.subscribe(e=>{this.checked=!0,this.set_auto({checked:!0})})}refresh_data(){this.color="primary",this.call.config.websocket.active?this.ws.request_change():this.ds.refresh.emit("RefreshButton"),this.ds.save_default(),this._snackBar.openFromComponent(T,{duration:1e3*this.durationInSeconds,data:{message:"Refreshing data",status:"success"}})}loadExternalScript(e,n,i,o,l,r){const c=document.head;if("javascript"===i){const u=document.createElement("script");u.id=this.ds.makeid(5),u.type="text/javascript",void 0!==e&&(u.src=e),void 0!==n&&(u.text=n),u.async=l,u.defer=r,c.appendChild(u)}if("link"===i){const u=document.createElement("link");u.id=this.ds.makeid(5),u.rel=o,u.href=e,c.appendChild(u)}}getScripts(){this.http.post(this.call.my_url()+"backend/scripts",this.ds.get_all()).subscribe(e=>{let n=e.scripts;for(let i of n)this.loadExternalScript(i.url,i.text,i.type,i.rel,i.async,i.defer)})}set_size(e,n){n?this.mySize2=e:this.mySize=e}saveReport(){this.document_id=this.ds.makeid(32);let e=new C;e.key="document_id",e.value=this.document_id,this.ds.data_setter.emit(e),this.refresh_data(),this.call.call_response(this.call.my_url()+"backend/document",void 0,void 0).subscribe(n=>{const i=new URL(window.location.href);i.searchParams.set("document_id",this.document_id),this.clipboard.copy(i.href),this._snackBar.openFromComponent(T,{duration:1e3*this.durationInSeconds,data:{message:"Document URL copied",status:"success"}})},n=>{this._snackBar.openFromComponent(T,{duration:1e3*this.durationInSeconds,data:{message:"Saving report failed",status:"error"}})})}call_refresh(e,n,i){e.config.websocket.active?i.request_change():n.refresh.emit("AutoRefresh")}set_auto(e){e.checked?this.runRefresh=setInterval(this.call_refresh,1e3*this.call.config.refresh.rate_in_seconds,this.call,this.ds,this.ws):clearInterval(this.runRefresh)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.sBO),t.Y36(Mt.vx),t.Y36(Q.eN),t.Y36(x.D),t.Y36(P.ux),t.Y36(J.gz),t.Y36(F),t.Y36(S.Dx),t.Y36(xt.TU),t.Y36(ft),t.Y36(It))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-root"]],decls:34,vars:15,consts:[["color","primary","layout","row"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayoutAlign","end end"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[3,"checked","change"],[1,"app-container"],[1,"app-sidenav",3,"mode"],["snav",""],[3,"url","size"],[1,"app-sidenav",3,"position","mode"],["snav2",""],[4,"ngIf","ngIfElse"],["withoutLogin",""]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"mat-toolbar",0)(1,"button",1),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(23);return t.KtG(l.toggle())}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"div",2),t.YNc(7,he,4,0,"span",3),t.TgZ(8,"button",4)(9,"mat-icon"),t._uU(10,"more_vert"),t.qZA()()(),t.TgZ(11,"mat-menu",null,5)(13,"button",6),t.NdJ("click",function(){return n.saveReport()}),t.TgZ(14,"mat-icon"),t._uU(15,"saved_search"),t.qZA(),t.TgZ(16,"span"),t._uU(17,"Save Report"),t.qZA()(),t.TgZ(18,"button",7)(19,"mat-slide-toggle",8),t.NdJ("change",function(l){return n.set_auto(l)}),t._uU(20," Auto Refresh "),t.qZA()()()(),t.TgZ(21,"mat-sidenav-container",9)(22,"mat-sidenav",10,11)(24,"mat-nav-list")(25,"app-sidebar",12),t.NdJ("size",function(l){return n.set_size(l,!1)}),t.qZA()()(),t.TgZ(26,"mat-sidenav",13,14)(28,"mat-nav-list")(29,"app-sidebar",12),t.NdJ("size",function(l){return n.set_size(l,!0)}),t.qZA()()(),t.TgZ(30,"mat-sidenav-content"),t.YNc(31,ge,2,0,"span",15),t.YNc(32,fe,1,0,"ng-template",null,16,t.W1O),t.qZA()()}if(2&e){const i=t.MAs(12),o=t.MAs(33);t.xp6(5),t.Oqu(n.title),t.xp6(2),t.Q6J("ngIf",n.call.show_right_sidebar()),t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(11),t.Q6J("checked",n.checked),t.xp6(3),t.Udp("width",n.mySize),t.Q6J("mode","over"),t.xp6(3),t.Q6J("url","backend/sidebar"),t.xp6(1),t.Udp("width",n.mySize2),t.Q6J("position","end")("mode","over"),t.xp6(3),t.Q6J("url","backend/sidebar2"),t.xp6(2),t.Q6J("ngIf",(n.call.config.auth.SSO||n.call.config.auth.UP_Login)&&n.auth.not_logged())("ngIfElse",o)}},dependencies:[O.Wh,O.yH,I.lW,L.Hw,K.Hk,et.VK,et.OP,et.p6,st.JX,st.TM,st.Rh,bt.Rr,Pt.Ye,f.O5,J.lC,_e,me],styles:["[_nghost-%COMP%]{position:absolute;left:0;right:0;bottom:0;top:0}mat-sidenav-container[_ngcontent-%COMP%]{margin:0;min-height:100%;height:100%;width:100%;display:inline-block}.increase-size[_ngcontent-%COMP%]{width:200px}mat-sidenav[_ngcontent-%COMP%]{min-width:200px}.float[_ngcontent-%COMP%]{position:fixed;bottom:1rem;right:1rem;z-index:5}.app-container[_ngcontent-%COMP%]{height:90%;margin:0}.app-sidenav[_ngcontent-%COMP%]{width:230px}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.toolbar-item-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),a})(),be=(()=>{class a{constructor(){}set_title(e,n,i){e.fragment.subscribe(o=>{null!==o?n.setTitle(o):i.get("/backend/title").subscribe(l=>{n.setTitle(l)})})}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var M=p(88696);let Ct=(()=>{class a{constructor(e,n){this.dialogRef=e,this.data=n}ngOnInit(){}onCancel(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(M.so),t.Y36(M.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-support-dialog"]],decls:7,vars:1,consts:[[1,"continer"],["mat-dialog-actions","",2,"margin-top","auto","height","90%","overflow-y","auto"],[2,"margin","5px",3,"innerHTML"],["css",""],["mat-button","","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2,3),t.qZA(),t.TgZ(4,"div")(5,"button",4),t._uU(6,"Close"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("innerHTML",n.data.custom_html,t.oJD))},dependencies:[I.lW,M.ZT,M.H8],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #000;min-height:200px;width:100px}"]}),a})();var Ce=p(8239);let H=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this.dialog=i,this.input_types=["date","checkbox","radio","simple_filter","simple_server_filter","group_filter","slider","button_toggle","toggle","input","download","upload","button","form"],this.subscription_lookup={},this.d=new Map,this.data_type=["box","table","chart","image","highchart","custom_html","Loading"],this.call_this=new t.vpe,this.call_api={},this.data_={},this.call_this.subscribe(o=>{this.getData(o.forced,o.url,o.look_up,o.page,o.isSidebar,"")})}get_multi_url(e){let n=[];switch(e.type){case"multi_list":case"multi_tabs":case"multi_expand":n=e.multi_data?.urls;break;default:n=[]}return n}set_name(e){let n="";switch(e.type){case"box":n=e.box_data?.name;break;case"date":n=e.date_data?.name;break;case"table":n=e.table_data?.name;break;case"chart":n=e.chart_data?.name;break;case"radio":n=e.radio_data?.name;break;case"checkbox":n=e.checkbox_data?.name;break;case"slider":n=e.slider_data?.name;break;case"button_toggle":case"toggle":n=e.button_toggle_data?.name;break;case"simple_filter":case"simple_server_filter":n=e.simple_filter_data?.name;break;case"group_filter":n=e.group_filter_data?.name;break;case"input":n=e.input_data?.name;break;case"custom_html":n=e.custom_html?.name;break;default:n=""}return n}updateData(e,n,i,o,l){this.saveData(e,n,i);let r=o?.reactive,c=o?.type,u=this.set_name(o);this.unsubscribe_this(l),this.subscribe_this(c,l,n,r,u,i,e),this.ds.all_input.set(l,o),this.ds.input_emitter.emit({calling:!1,lookup:l,t:o,message:void 0}),void 0!==o.ui_data&&this.saveUIData(o.ui_data)}getData(e,n,i,o,l,r){var c=this;return(0,Ce.Z)(function*(){let u=c.ds.all_input.get(i);if(void 0!==u&&!e)return void c.ds.input_emitter.emit({calling:!1,lookup:i,t:u,message:void 0});if(c.input_types.includes(u?.type)&&"Reactive"!==r&&"SpecificReactive"!==r)return void c.ds.input_emitter.emit({calling:!1,lookup:i,t:u,message:void 0});void 0!==c.subscription_lookup[i]&&(c.subscription_lookup[i].unsubscribe(),c.subscription_lookup[i]=null);let w=c.callService.call_response(n,void 0,void 0);return c.ds.input_emitter.emit({calling:!0,lookup:i,t:void 0,message:void 0}),c.ds.all_input.delete(i),c.unsubscribe_this(i),c.subscribe_this("Loading",i,n,{full_reactive:!0,reactive_ids:[],hidden:!0},"Loading",o,l),c.subscription_lookup[i]=yield w.subscribe({next:D=>{void 0===D?.error?c.updateData(l,n,o,D,i):c.ds.input_emitter.emit({calling:!1,lookup:i,t:void 0,message:D.error})},error:D=>{c.ds.input_emitter.emit({calling:!1,lookup:i,t:void 0,message:D.message})}}),{error:"not called"}})()}unsubscribe_this(e){this.d.get("refresh_"+e)?.unsubscribe(),this.d.get("reactive_"+e)?.unsubscribe(),this.d.get("specific_reactive_"+e)?.unsubscribe()}callGetData(e,n,i,o,l){if(this.ds.get_page()===i||l){let c=!1;if("PageRefresh"===o)c=!0;else if("RefreshButton"===o)c=!0;else if("AutoRefresh"===o)c=!0;else if("Reactive"===o)c=!0;else{if("SpecificReactive"!==o)return;c=!0}this.getData(c,n,e,i,l,o)}}subscribe_this(e,n,i,o,l,r,c){this.data_type.indexOf(e)>=0&&this.d.set("refresh_"+n,this.ds.refresh.subscribe(u=>{this.callGetData(n,i,r,u,c)})),o.full_reactive?this.d.set("reactive_"+n,this.ds.data_setter.subscribe(u=>{u.key!==l&&this.callGetData(n,i,r,"Reactive",c)})):o.reactive_ids.length>0&&this.d.set("specific_reactive_"+n,this.ds.data_setter.subscribe(u=>{o.reactive_ids.indexOf(u.key)>=0&&this.callGetData(n,i,r,"SpecificReactive",c)}))}lookup(e,n){let i="";return i=e?"sidebar":this.ds.get_page(),this.ds.input_lookup(i,n)}needToPull(e,n,i){let o=this.lookup(e,n),l=!1,r=this.data_[o],c={global:this.ds.data.global,page:this.ds.data[i]};try{delete c.page[o],0===Object.keys(c.page).length&&delete c.page}catch{}let u=JSON.stringify(c);return null!==r?u!==r&&(l=!0):l=!0,l}saveData(e,n,i){let o=this.lookup(e,n),l={global:this.ds.data.global,page:this.ds.data[i]};try{delete l.page[o],0===Object.keys(l.page).length&&delete l.page}catch{}let r=JSON.stringify(l);this.data_[o]=r}saveUIData(e){let n=(new Date).toTimeString();for(let i of e)if("add"===i.action){let o={timestamp:n,data:i.value};"session"===i.type?sessionStorage.setItem(i.key,JSON.stringify(o)):localStorage.setItem(i.key,JSON.stringify(o))}else"session"===i.type?sessionStorage.removeItem(i.key):localStorage.removeItem(i.key)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(x.D),t.LFG(F),t.LFG(M.uw))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function ve(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",1),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(2),t.hij(" ",e.get_icon()," ")}}function ye(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",2),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(2),t.hij(" ",e.get_icon()," ")}}function Te(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(2),t.hij(" ",e.get_icon()," ")}}let we=(()=>{class a{constructor(e,n,i,o,l,r){this.ds=e,this.callService=n,this._snackBar=i,this.api=o,this._dialog=l,this.api_call_service=r,this.isSidebar=!1,this.show=!1}ngOnInit(){this.look_up=this.api.lookup(this.isSidebar,this.url),this.page=this.ds.get_page();let e=this.api.needToPull(this.isSidebar,this.url,this.page);this.api.call_this.emit({forced:e,url:this.url,look_up:this.look_up,page:this.page,isSidebar:this.isSidebar})}get_type(){return this.ds.all_input.get(this.look_up)?.floating_button_data?.fab_style}get_color(){return this.ds.all_input.get(this.look_up)?.floating_button_data?.color}get_style(){return this.ds.all_input.get(this.look_up)?.floating_button_data?.style}get_icon(){return this.ds.all_input.get(this.look_up)?.floating_button_data?.icon}open_dialog(e){this._dialog.open(Ct,{width:e?.display_dialog?.width,height:e?.display_dialog?.height,data:{custom_html:e?.display_dialog?.custom_message}}).afterClosed().subscribe(i=>{console.log(`Dialog result: ${i}`)})}reactiveity(e,n=""){let i=new C;i.page=this.ds.dataLookup(!1),i.key=this.ds.all_input.get(this.look_up)?.floating_button_data?.name+"_"+e,i.value=""===n?this.ds.makeid(2):n,i.url=this.url+"_"+e,this.ds.data_setter.emit(i)}trigger(){if(this.reactiveity("triggered"),this.ds.all_input.get(this.look_up)?.floating_button_data?.redirect){let n=this.ds.all_input.get(this.look_up)?.floating_button_data?.url,i=this.ds.all_input.get(this.look_up)?.floating_button_data?.target_attribute;return void window.open(n,i)}void 0!==this.second_call&&this.second_call.unsubscribe();let e=this.callService.second_call_response(this.ds.all_input.get(this.look_up)?.floating_button_data?.url,this.ds.all_input.get(this.look_up)?.floating_button_data?.name,"");this.second_call=e.subscribe(n=>{try{var i=n;this.reactiveity("result",i.button_data?.name),this._snackBar.openFromComponent(T,{duration:1e3*i.display?.duration,data:{message:i.display?.message,status:i.display?.status}}),this.show=!1,void 0!==i.display_dialog&&this.open_dialog(i),void 0!==i.ui_data&&this.api_call_service.saveUIData(i.ui_data),this.reactiveity("success"),void 0!==i.button_data&&i.button_data.redirect&&window.open(i.button_data.url,i.button_data.target_attribute)}catch{this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"backend failed",status:"error"}})}},n=>{this.show=!1,this.reactiveity("failed"),this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"API called Failed",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(F),t.Y36(P.ux),t.Y36(H),t.Y36(M.uw),t.Y36(H))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-fab-button"]],inputs:{url:"url"},decls:3,vars:3,consts:[[4,"ngIf"],["mat-fab","",3,"color","click"],["mat-mini-fab","",3,"color","click"],["mat-icon-button","",3,"color","click"]],template:function(e,n){1&e&&(t.YNc(0,ve,4,4,"span",0),t.YNc(1,ye,4,4,"span",0),t.YNc(2,Te,4,4,"span",0)),2&e&&(t.Q6J("ngIf","fab"===n.get_type()),t.xp6(1),t.Q6J("ngIf","mini_fab"===n.get_type()),t.xp6(1),t.Q6J("ngIf","icon"===n.get_type()))},dependencies:[I.lW,L.Hw,f.O5],styles:["button[_ngcontent-%COMP%]{position:fixed;z-index:1000}"]}),a})();function Se(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-entry-point",7),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.setReactivity(l.url,i))}),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i,o,l,r,c;t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",!1)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"33%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"33%")("fxFlex.sm",(null==(r=n.flexData.get(e.url))?null:r.fxFlex_sm)||"50%")("fxFlex.xs",(null==(c=n.flexData.get(e.url))?null:c.fxFlex_sm)||"100%")}}function Ze(a,s){if(1&a&&(t.TgZ(0,"div",4)(1,"mat-card")(2,"mat-card-content")(3,"div",5),t.YNc(4,Se,1,7,"app-entry-point",6),t.qZA()()()()),2&a){const e=s.$implicit;t.xp6(4),t.Q6J("ngForOf",e.data)}}function De(a,s){if(1&a&&(t.TgZ(0,"div"),t._UZ(1,"app-fab-button",8),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Q6J("url",e.url)}}function Fe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.refresh_data())}),t.TgZ(3,"mat-icon"),t._uU(4,"refresh"),t.qZA()()()()}if(2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("color",e.color)}}function ke(a,s){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Ze,5,1,"div",1),t.YNc(2,De,2,1,"div",2),t.YNc(3,Fe,5,1,"div",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.page?null:e.page.rows),t.xp6(1),t.Q6J("ngForOf",null==e.page?null:e.page.floating_button_url),t.xp6(1),t.Q6J("ngIf",e.page.show_refresh_button)}}const Oe=[{path:"**",component:(()=>{class a{constructor(e,n,i,o,l,r,c,u){this.http=e,this.titleService=n,this.aRoute=i,this.call=o,this.dataService=l,this.ds=r,this.ws=c,this._snackBar=u,this.page=void 0,this.reactivityData=new Map,this.flexData=new Map,this.color="primary",this.durationInSeconds=5}ngOnInit(){(new be).set_title(this.aRoute,this.titleService,this.http),this.aRoute.queryParamMap.subscribe(e=>{let n=this.dataService.get_page(),i=(new Q.LE).set("fragment",n);this.http.get(this.call.my_url()+"backend/page_detail",{params:i}).subscribe(o=>{this.page=o})})}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}refresh_data(){this.color="primary",this.call.config.websocket.active?this.ws.request_change():this.ds.refresh.emit("RefreshButton"),this.ds.save_default(),this._snackBar.openFromComponent(T,{duration:1e3*this.durationInSeconds,data:{message:"Refreshing data",status:"success"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Q.eN),t.Y36(S.Dx),t.Y36(J.gz),t.Y36(F),t.Y36(x.D),t.Y36(x.D),t.Y36(ft),t.Y36(P.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-page"]],decls:1,vars:1,consts:[[4,"ngIf"],["style","padding: 10px",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["style","padding: 15px; position: fixed; z-index: 1000; right: 0; bottom: 0;",4,"ngIf"],[2,"padding","10px"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","row_data.layoutGap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","space-around stretch","fxFlexFill",""],["class","padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd",4,"ngFor","ngForOf"],[1,"padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd"],[3,"url"],[2,"padding","15px","position","fixed","z-index","1000","right","0","bottom","0"],[2,"float","right"],["mat-mini-fab","","aria-label","Example icon button with a filter list icon",1,"float",3,"color","click"]],template:function(e,n){1&e&&t.YNc(0,ke,4,3,"div",0),2&e&&t.Q6J("ngIf",n.page)},dependencies:[O.xw,O.SQ,O.Wh,O.s9,O.yH,I.lW,A.a8,A.dn,L.Hw,f.sg,f.O5,nt,we],styles:[".padding[_ngcontent-%COMP%]{padding:5px;margin-bottom:1em;min-width:100px}.max[_ngcontent-%COMP%]{max-height:200px}"]}),a})()}];let Ae=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[J.Bz.forRoot(Oe,{relativeLinkResolution:"legacy"}),J.Bz]}),a})();var Me=p(25544),Je=p(38954),Ie=p(58698),Pe=p(27165),Ee=p(18632),Ue=p(76342),Ye=p(59269),vt=p(9286),Qe=p(55211),yt=p(61637),Le=p(65719),Ne=p(56226),Tt=p(50108),Ut=p(71561),Re=p(27084),Be=p(65429),G=p(83704),at=p(25237),wt=p(53538),z=p(40827),Yt=p(8697),St=p(53556),ot=p(18033),Qt=p(96219),lt=p(56558),E=p(80418),Zt=p(72516),Lt=p(2940),qe=p(18849),He=p(19596),Ge=p(96100),Nt=p(40512);function Ke(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-entry-point",5),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.setReactivity(l.url,i))}),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i,o,l,r,c;t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",!1)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"33%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"33%")("fxFlex.sm",(null==(r=n.flexData.get(e.url))?null:r.fxFlex_sm)||"50%")("fxFlex.xs",(null==(c=n.flexData.get(e.url))?null:c.fxFlex_sm)||"100%")}}function je(a,s){if(1&a&&(t.TgZ(0,"div",2)(1,"mat-card")(2,"mat-card-content")(3,"div",3),t.YNc(4,Ke,1,7,"app-entry-point",4),t.qZA()()()()),2&a){const e=s.$implicit;t.xp6(4),t.Q6J("ngForOf",e.data)}}function ze(a,s){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,je,5,1,"div",1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.page?null:e.page.rows)}}let We=(()=>{class a{constructor(e,n,i,o,l,r){this.dialogRef=e,this.dialog_url=n,this.http=i,this.aRoute=o,this.call=l,this.dataService=r,this.page=void 0,this.reactivityData=new Map,this.flexData=new Map}ngOnInit(){let e;if(this.dialog_url.includes("http"))e=this.dialog_url;else{let i=this.call.my_url();"/"===this.dialog_url[0]&&(this.dialog_url=this.dialog_url.substring(1)),e=i+this.dialog_url}let n=this.dataService.get_all();this.http.post(e,n).subscribe(i=>{this.page=i})}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(M.so),t.Y36(M.WI),t.Y36(Q.eN),t.Y36(J.gz),t.Y36(F),t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["style","padding: 10px",4,"ngFor","ngForOf"],[2,"padding","10px"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","row_data.layoutGap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","space-around stretch","fxFlexFill",""],["class","padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd",4,"ngFor","ngForOf"],[1,"padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd"]],template:function(e,n){1&e&&t.YNc(0,ze,2,1,"div",0),2&e&&t.Q6J("ngIf",n.page)},dependencies:[O.xw,O.SQ,O.Wh,O.s9,O.yH,A.a8,A.dn,f.sg,f.O5,nt]}),a})(),$e=(()=>{class a{constructor(e){this.ds=e}ngOnDestroy(){}ngOnInit(){}getIcon(){return this.ds.all_input.get(this.url)?.box_data?.icon}getValue(){return this.ds.all_input.get(this.url)?.box_data?.value}getName(){return this.ds.all_input.get(this.url)?.box_data?.name}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-box"]],inputs:{url:"url"},decls:10,vars:9,consts:[["cols","2","rowHeight","3:1"],[3,"colspan","rowspan"],[1,"material-symbols-outlined"],[2,"font-size","30px","text-align","right"],[2,"font-size","12px","text-align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"span",2),t._uU(3),t.qZA()(),t.TgZ(4,"mat-grid-tile",1)(5,"div",3),t._uU(6),t.qZA()(),t.TgZ(7,"mat-grid-tile",1)(8,"div",4),t._uU(9),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("colspan",1)("rowspan",2),t.xp6(2),t.hij(" ",n.getIcon()," "),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(2),t.hij(" ",n.getValue()," "),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(2),t.hij(" ",n.getName()," "))},dependencies:[at.Il,at.DX],styles:[".material-symbols-outlined[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px;line-height:50px}"]}),a})();function Xe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",3)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-date-range-input",4)(5,"input",5),t.NdJ("dateChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.changeValue(i))}),t.qZA(),t.TgZ(6,"input",6),t.NdJ("dateChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.changeValue(i))}),t.qZA()(),t.TgZ(7,"mat-hint"),t._uU(8,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(9,"mat-datepicker-toggle",7)(10,"mat-date-range-picker",null,8),t.qZA()()}if(2&a){const e=t.MAs(11),n=t.oxw();t.xp6(3),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("formGroup",n.getForm())("rangePicker",e)("comparisonStart",n.form_data.value.start)("comparisonEnd",n.form_data.value.end),t.xp6(5),t.Q6J("for",e)}}function Ve(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",9)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",10),t.NdJ("dateChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.changeValue(i))}),t.qZA(),t.TgZ(5,"mat-hint"),t._uU(6,"MM/DD/YYYY"),t.qZA(),t._UZ(7,"mat-datepicker-toggle",7)(8,"mat-datepicker",null,11),t.qZA()()}if(2&a){const e=t.MAs(9),n=t.oxw();t.xp6(3),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("matDatepicker",e)("formControl",n.form_control),t.xp6(3),t.Q6J("for",e)}}let tn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.getData()}getData(){this.data=this.ds.all_input.get(this.url)?.date_data;let e=this.data.first_date;if(this.data.first_date.includes("T")||(e=this.data.first_date+"T00:00:00"),this.data.second_date){this.single=!1;let n=this.data.second_date;this.data.second_date.includes("T")||(n=this.data.second_date+"T00:00:00"),this.form_data=new h.nJ({start:new h.p4(new Date(e)),end:new h.p4(new Date(n))})}else this.single=!0,this.form_control=new h.p4(new Date(e))}getForm(){return this.form_data}isSingle(){return this.single}getLabel(){return this.data.name}changeValue(e){let n=new C,i=!0;n.key=this.data.name,n.url=this.url,n.page=this.ds.dataLookup(this.isSidebar),this.single?(n.value=this.form_control.value.toISOString().substring(0,10),n.page=this.ds.dataLookup(this.isSidebar)):this.form_data.value.end&&this.form_data.value.start?n.value=[this.form_data.value.start.toISOString().substring(0,10),this.form_data.value.end.toISOString().substring(0,10)]:i=!1,i&&this.ds.data_setter.emit(n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-datetime"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:5,vars:4,consts:[["cols","4","rowHeight","1:1"],["tile","",3,"colspan","rowspan"],[4,"ngIf"],["appearance","standard","floatLabel","always",1,"example-form-field"],[3,"formGroup","rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder","Start date","formControlName","start",3,"dateChange"],["matEndDate","","placeholder","End date","formControlName","end",3,"dateChange"],["matSuffix","",3,"for"],["campaignOnePicker",""],["appearance","standard","floatLabel","always"],["matInput","",3,"matDatepicker","formControl","dateChange"],["dp",""]],template:function(e,n){1&e&&(t.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1),t.YNc(2,Xe,12,6,"div",2),t.YNc(3,Ve,10,4,"div",2),t._UZ(4,"br"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("colspan",4)("rowspan",1),t.xp6(1),t.Q6J("ngIf",!n.isSingle()),t.xp6(1),t.Q6J("ngIf",n.isSingle()))},dependencies:[h.Fj,h.JJ,h.JL,h.oH,h.sg,h.u,G.Mq,G.hl,G.nW,G.wx,G.zY,G.By,G._g,at.Il,at.DX,v.KE,v.bx,v.hX,v.R9,j.Nt,f.O5]}),a})();var en=p(95834);function nn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.value="")}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function an(a,s){if(1&a&&(t.TgZ(0,"mat-header-cell",18),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.header)}}function sn(a,s){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=s.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(e[n.columnDef])}}function on(a,s){1&a&&(t.ynx(0,15),t.YNc(1,an,2,1,"mat-header-cell",16),t.YNc(2,sn,2,1,"mat-cell",17),t.BQk()),2&a&&t.Q6J("matColumnDef",s.$implicit.columnDef)}function ln(a,s){1&a&&t._UZ(0,"mat-header-row")}function rn(a,s){1&a&&t._UZ(0,"mat-row")}function pn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.download())}),t._uU(3,"Download"),t.qZA()(),t.TgZ(4,"div",22),t._UZ(5,"mat-paginator",23),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(5),t.Q6J("pageSizeOptions",e.items_per_page_options)("pageSize",e.items_per_page)}}function cn(a,s){if(1&a&&(t.TgZ(0,"div"),t._UZ(1,"mat-paginator",23),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("pageSizeOptions",e.items_per_page_options)("pageSize",e.items_per_page)}}let _n=(()=>{class a{constructor(e){this.dataService=e,this.selection=new en.Ov(!0,[]),this.displayedColumns=[]}ngOnInit(){this.columns=this.dataService.all_input.get(this.url)?.table_data?.columns,this.dataSource=new E.by(this.dataService.all_input.get(this.url)?.table_data?.data),this.allow_download=this.dataService.all_input.get(this.url)?.table_data?.allow_download,this.items_per_page=this.dataService.all_input.get(this.url)?.table_data?.items_per_page,this.items_per_page_options=this.dataService.all_input.get(this.url)?.table_data?.items_per_page_options,this.displayedColumns=this.displayedColumns.concat(this.columns.map(e=>e.columnDef))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}download(){let e="",n=[];for(let u=0;u<this.columns.length;u++)e+=this.columns[u].header+",",n.push(this.columns[u].columnDef),e=e.replace(/\n/g,"");e=e.substring(0,e.length-1)+"\n";const i=this.dataService.all_input.get(this.url)?.table_data?.data;for(let u=0;u<i.length;u++){for(let w=0;w<n.length;w++)e+=i[u][n[w]]+",";e=e.substring(0,e.length-1)+"\n"}e=e.substring(0,e.length-1)+"\n";const o=document.createElement("a"),c="download_file".concat(".csv");o.href="data:text/csv;charset=utf-8,"+encodeURI("\ufeff"+e),o.target="_blank",o.download=c,o.click()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-table"]],viewQuery:function(e,n){if(1&e&&(t.Gf(wt.NW,5),t.Gf(lt.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first),t.iGM(i=t.CRH())&&(n.sort=i.first)}},inputs:{url:"url"},decls:18,vars:8,consts:[[1,"table-actionbar"],[1,"search-box"],["appearance","outline",1,"example-form-field"],["matPrefix",""],["matInput","","type","text",3,"ngModel","ngModelChange","keyup"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","",3,"dataSource"],["table",""],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["style","display: flex; flex-wrap: wrap;",4,"ngIf"],[4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"matColumnDef"],["mat-sort-header","",4,"cdkHeaderCellDef"],[4,"cdkCellDef"],["mat-sort-header",""],[2,"display","flex","flex-wrap","wrap"],[2,"width","15%","padding","1%","margin","2px"],["mat-raised-button","","color","primary",3,"click"],[2,"width","80%","padding","1%","margin","1px"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-icon",3),t._uU(4,"search"),t.qZA(),t.TgZ(5,"mat-label"),t._uU(6,"Search"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(o){return n.value=o})("keyup",function(o){return n.applyFilter(o)}),t.qZA(),t.YNc(8,nn,3,0,"button",5),t.qZA()()(),t.TgZ(9,"div",6)(10,"mat-table",7,8),t.YNc(12,on,3,1,"ng-container",9),t.YNc(13,ln,1,0,"mat-header-row",10),t.YNc(14,rn,1,0,"mat-row",11),t.qZA(),t.TgZ(15,"div"),t.YNc(16,pn,6,2,"div",12),t.YNc(17,cn,2,2,"div",13),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.value),t.xp6(1),t.Q6J("ngIf",n.value),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(2),t.Q6J("ngForOf",n.columns),t.xp6(1),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("ngIf",n.allow_download),t.xp6(1),t.Q6J("ngIf",!n.allow_download))},dependencies:[h.Fj,h.JJ,h.On,vt.O_,vt.D5,I.lW,L.Hw,v.KE,v.hX,v.qo,v.R9,j.Nt,wt.NW,lt.YE,lt.nU,E.BZ,E.as,E.w1,E.nj,E.ge,E.ev,E.XQ,E.Gk,f.sg,f.O5],styles:['.search-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.table-responsive[_ngcontent-%COMP%]{display:block;overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0}.table-responsive[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:table-row}.table-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 5px;line-break:unset;width:auto;white-space:nowrap;overflow:hidden;vertical-align:middle}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 700,"GRAD" 200,"opsz" 48}']}),a})(),dn=(()=>{class a{constructor(e){this.dataService=e}ngOnInit(){}get_options(){return this.dataService.all_input.get(this.url)?.chart_data?.data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-plot"]],inputs:{url:"url"},decls:1,vars:1,consts:[["echarts","",1,"demo-chart",3,"options"]],template:function(e,n){1&e&&t._UZ(0,"div",0),2&e&&t.Q6J("options",n.get_options())},dependencies:[Nt._w]}),a})();function un(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",4),t.NdJ("ngModelChange",function(i){const l=t.CHM(e).$implicit;return t.KtG(l.selected=i)})("ngModelChange",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.update())}),t._uU(2),t.qZA()()}if(2&a){const e=s.$implicit;t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.hij(" ",e.name," ")}}function mn(a,s){if(1&a&&(t.TgZ(0,"section",2),t.YNc(1,un,3,2,"div",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.my_data())}}function hn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",5),t.NdJ("ngModelChange",function(i){const l=t.CHM(e).$implicit;return t.KtG(l.selected=i)})("ngModelChange",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.update())}),t._uU(2),t.qZA()()}if(2&a){const e=s.$implicit;t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.hij(" ",e.name," ")}}function gn(a,s){if(1&a&&(t.TgZ(0,"section")(1,"ul"),t.YNc(2,hn,3,2,"li",3),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.my_data())}}let fn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.getData()}getData(){return this.ds.all_input.get(this.url)?.checkbox_data}update(){let e=new C;e.page=this.ds.dataLookup(this.isSidebar),e.url=this.url,e.key=this.getData().name,e.value=this.getData().data,this.ds.data_setter.emit(e)}get_style(){return this.getData().style}my_data(){return this.getData().data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-checkbox"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:2,consts:[["class","example-section",4,"ngIf"],[4,"ngIf"],[1,"example-section"],[4,"ngFor","ngForOf"],[1,"example-margin",3,"ngModel","ngModelChange"],[1,"example-margin-top",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.YNc(0,mn,2,1,"section",0),t.YNc(1,gn,3,1,"section",1)),2&e&&(t.Q6J("ngIf","Horizontal"===n.get_style()),t.xp6(1),t.Q6J("ngIf","Vertical"===n.get_style()))},dependencies:[h.JJ,h.On,Ut.oG,f.sg,f.O5],styles:[".example-margin[_ngcontent-%COMP%]{margin-left:10px}.example-margin-top[_ngcontent-%COMP%]{margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}"]}),a})();function xn(a,s){if(1&a&&(t.TgZ(0,"mat-radio-button",5),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function bn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"section",2)(1,"mat-radio-group",3),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.selected=i)})("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.update())}),t.YNc(2,xn,2,2,"mat-radio-button",4),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.Q6J("ngForOf",e.getData())}}function Cn(a,s){if(1&a&&(t.TgZ(0,"li")(1,"mat-radio-button",7),t._uU(2),t.qZA()()),2&a){const e=s.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function vn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"section")(1,"mat-radio-group",3),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.selected=i)})("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.update())}),t.TgZ(2,"ul"),t.YNc(3,Cn,3,2,"li",6),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(2),t.Q6J("ngForOf",e.getData())}}let yn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.selected=this.ds.all_input.get(this.url)?.radio_data?.selected}getStyle(){return this.ds.all_input.get(this.url)?.radio_data?.style}update(){let e=new C;e.page=this.ds.dataLookup(this.isSidebar),e.key=this.ds.all_input.get(this.url)?.radio_data?.name,e.value=this.selected,e.url=this.url,this.ds.data_setter.emit(e)}getData(){return this.ds.all_input.get(this.url)?.radio_data?.data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-radio"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:2,consts:[["class","example-section",4,"ngIf"],[4,"ngIf"],[1,"example-section"],[3,"ngModel","ngModelChange","change"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],[4,"ngFor","ngForOf"],[1,"example-radio-button-bottom",3,"value"]],template:function(e,n){1&e&&(t.YNc(0,bn,3,2,"section",0),t.YNc(1,vn,4,2,"section",1)),2&e&&(t.Q6J("ngIf","Horizontal"===n.getStyle()),t.xp6(1),t.Q6J("ngIf","Vertical"===n.getStyle()))},dependencies:[h.JJ,h.On,St.VQ,St.U0,f.sg,f.O5],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.example-radio-button-bottom[_ngcontent-%COMP%]{margin-bottom:5px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),a})(),Tn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.value=this.ds.all_input.get(this.url)?.slider_data?.value}isInverted(){return this.ds.all_input.get(this.url)?.slider_data?.invert}isMax(){return this.ds.all_input.get(this.url)?.slider_data?.max}isMin(){return this.ds.all_input.get(this.url)?.slider_data?.min}step(){return this.ds.all_input.get(this.url)?.slider_data?.step}isThumbLabel(){return this.ds.all_input.get(this.url)?.slider_data?.thumbLabel}isVertical(){return this.ds.all_input.get(this.url)?.slider_data?.vertical}detectChange(){let e=new C;e.page=this.ds.dataLookup(this.isSidebar),e.key=this.ds.all_input.get(this.url)?.slider_data?.name,e.value=this.value,e.url=this.url,this.ds.data_setter.emit(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-slider"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:1,vars:7,consts:[["aria-labelledby","example-name-label",1,"example-margin",3,"invert","max","min","step","thumbLabel","ngModel","vertical","ngModelChange","change"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-slider",0),t.NdJ("ngModelChange",function(o){return n.value=o})("change",function(){return n.detectChange()}),t.qZA()),2&e&&t.Q6J("invert",n.isInverted())("max",n.isMax())("min",n.isMin())("step",n.step())("thumbLabel",n.isThumbLabel())("ngModel",n.value)("vertical",n.isVertical())},dependencies:[h.JJ,h.On,Qt.pH],styles:[".mat-slider-horizontal[_ngcontent-%COMP%]{width:300px}.mat-slider-vertical[_ngcontent-%COMP%]{height:150px}"]}),a})();function wn(a,s){if(1&a&&(t.TgZ(0,"mat-button-toggle",2),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name,"")}}let Sn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.selected_data=this.isMultiple()?[]:""}updateData(e){let n=new C;if(n.page=this.ds.dataLookup(this.isSidebar),n.key=this.ds.all_input.get(this.url)?.button_toggle_data?.name,n.value=e,n.url=this.url,this.ds.data_setter.emit(n),"string"==this.ds.trueTypeOf(e))for(let i of this.get_buton_data())i.selected=i.name===e;else if("array"==this.ds.trueTypeOf(e))for(let i of this.get_buton_data())i.selected=-1!=e.indexOf(i.name)}onChange(e){this.updateData(e.value)}isMultiple(){return this.ds.all_input.get(this.url)?.button_toggle_data?.multi}get_buton_data(){return this.ds.all_input.get(this.url)?.button_toggle_data?.data}get_value(){if(this.ds.all_input.get(this.url)?.button_toggle_data?.data){let e=[];for(let n of this.get_buton_data())n.selected&&(this.isMultiple()?e.push(n.name):this.selected_data=n.name);e.length>0&&(this.selected_data=e)}return this.selected_data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-button-toggle"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:3,consts:[[3,"value","multiple","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-button-toggle-group",0),t.NdJ("change",function(o){return n.onChange(o)}),t.YNc(1,wn,2,2,"mat-button-toggle",1),t.qZA()),2&e&&(t.Q6J("value",n.get_value())("multiple",n.isMultiple()),t.xp6(1),t.Q6J("ngForOf",n.get_buton_data()))},dependencies:[Tt.A9,Tt.Yi,f.sg]}),a})(),Zn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){}checkData(){return this.ds.all_input.get(this.url)?.toggle_data?.checked}saveData(e){this.update(e.checked)}update(e){let n=new C;n.key=this.ds.all_input.get(this.url)?.toggle_data?.name,n.value=e,n.url=this.url,n.page=this.ds.dataLookup(this.isSidebar),this.ds.data_setter.emit(n)}get_name(){return this.ds.all_input.get(this.url)?.toggle_data?.name}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-toggle"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:2,consts:[[3,"checked","change"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-slide-toggle",0),t.NdJ("change",function(o){return n.saveData(o)}),t._uU(1),t.qZA()),2&e&&(t.Q6J("checked",n.checkData()),t.xp6(1),t.Oqu(n.get_name()))},dependencies:[bt.Rr]}),a})();var Dt=p(5557),Ft=p(38023),Rt=p(65598),W=p(13528),rt=p(64325);const Dn=["dataSelect"];function Fn(a,s){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let kn=(()=>{class a{constructor(e){this.ds=e,this.dataForm=new h.p4,this.compareFn=(n,i)=>n&&i&&n.id===i.id,this.data_select_control=new h.p4,this.data_search_control=new h.p4,this.data_search=new Dt.t(1),this.searching=!1,this._onDestroy=new Ft.x}ngOnInit(){this.originalData(),this.searchData()}ngAfterViewInit(){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}setInitialValue(){this.data_search.pipe((0,Rt.q)(1),(0,W.R)(this._onDestroy)).subscribe(()=>{this.dataSelect.compareWith=(e,n)=>e===n})}filterMulti(){if(!this.data)return;let e=this.data_search_control.value;e?(e=e.toLowerCase(),this.data_search.next(this.data.filter(n=>n.toLowerCase().indexOf(e)>-1))):this.data_search.next(this.data.slice())}selectedData(){return this.ds.all_input.get(this.url)?.simple_filter_data?.selected}isMulti(){return this.ds.all_input.get(this.url)?.simple_filter_data?.multi}originalData(){this.data=this.ds.all_input.get(this.url)?.simple_filter_data?.data,void 0!==this.selectedData()&&this.selectedData().length>0&&(this.isMulti()?this.data_select_control.setValue(this.selectedData()):this.data_select_control.setValue(this.selectedData()[0])),this.data_search.next(this.data.slice())}searchData(){this.data_search_control.valueChanges.pipe((0,W.R)(this._onDestroy)).subscribe(()=>{this.filterMulti()}),this.setInitialValue()}getLabel(){return this.ds.all_input.get(this.url)?.simple_filter_data?.name}detectChange(e){let n=new C;n.key=this.ds.all_input.get(this.url)?.simple_filter_data?.name,n.value=e.value,n.page=this.ds.dataLookup(this.isSidebar),n.url=this.url,this.ds.data_setter.emit(n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-simple-filter"]],viewQuery:function(e,n){if(1&e&&t.Gf(Dn,7),2&e){let i;t.iGM(i=t.CRH())&&(n.dataSelect=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},decls:9,vars:7,consts:[["appearance","fill"],["placeholder","getLabel()",3,"formControl","multiple","selectionChange"],["dataSelect",""],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",1,2),t.NdJ("selectionChange",function(o){return n.detectChange(o)}),t.TgZ(5,"mat-option"),t._UZ(6,"ngx-mat-select-search",3),t.qZA(),t.YNc(7,Fn,2,2,"mat-option",4),t.ALo(8,"async"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("formControl",n.data_select_control)("multiple",n.isMulti()),t.xp6(3),t.Q6J("formControl",n.data_search_control),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,5,n.data_search)))},dependencies:[h.JJ,h.oH,Z.ey,v.KE,v.hX,ot.gD,f.sg,rt.nu,f.Ov]}),a})();const On=["dataSelect"];function An(a,s){if(1&a&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Mn(a,s){if(1&a&&(t.TgZ(0,"mat-optgroup",5),t.YNc(1,An,2,2,"mat-option",6),t.qZA()),2&a){const e=s.$implicit;t.Q6J("label",e.group_name),t.xp6(1),t.Q6J("ngForOf",e.group_data)}}let Jn=(()=>{class a{constructor(e){this.ds=e,this.dataForm=new h.p4,this.data_select_control=new h.p4,this.data_search_control=new h.p4,this.data_search=new Dt.t(1),this._onDestroy=new Ft.x}ngOnInit(){this.myData()}ngAfterViewInit(){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}setInitialValue(){this.data_search.pipe((0,Rt.q)(1),(0,W.R)(this._onDestroy)).subscribe(()=>{this.dataSelect.compareWith=(e,n)=>e===n})}filterMulti(){if(!this.group_data)return;let e=this.data_search_control.value;const n=this.copyGroups(this.group_data);e?(e=e.toLowerCase(),this.data_search.next(n.filter(i=>(i.group_name.toLowerCase().indexOf(e)>-1||(i.group_data=i.group_data.filter(l=>l.toLowerCase().indexOf(e)>-1)),i.group_data.length>0)))):this.data_search.next(this.group_data.slice())}myData(){this.data=this.ds.all_input.get(this.url)?.group_filter_data,this.multi=this.ds.all_input.get(this.url)?.group_filter_data?.multi,this.group_data=this.data.data;let e=this.ds.all_input.get(this.url)?.group_filter_data?.selected;void 0!==e&&e.length>0&&(this.isMulti()?this.data_select_control.setValue(e):this.data_select_control.setValue(e[0])),this.data_search.next(this.group_data.slice()),this.data_search_control.valueChanges.pipe((0,W.R)(this._onDestroy)).subscribe(()=>{this.filterMulti()}),this.setInitialValue()}getLabel(){return this.ds.all_input.get(this.url)?.group_filter_data?.name}detectChange(e){let n=new C;n.key=this.ds.all_input.get(this.url)?.group_filter_data?.name,n.value=e.value,n.page=this.ds.dataLookup(this.isSidebar),n.url=this.url,this.ds.data_setter.emit(n)}isMulti(){return this.ds.all_input.get(this.url)?.group_filter_data?.multi}copyGroups(e){let n=[];return e.forEach(i=>{n.push({group_name:i.group_name,group_data:i.group_data.slice()})}),n}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-group-filter"]],viewQuery:function(e,n){if(1&e&&t.Gf(On,7),2&e){let i;t.iGM(i=t.CRH())&&(n.dataSelect=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},decls:9,vars:7,consts:[["appearance","fill"],["placeholder","getLabel()",3,"formControl","multiple","selectionChange"],["dataSelect",""],[3,"formControl"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",1,2),t.NdJ("selectionChange",function(o){return n.detectChange(o)}),t.TgZ(5,"mat-option"),t._UZ(6,"ngx-mat-select-search",3),t.qZA(),t.YNc(7,Mn,2,2,"mat-optgroup",4),t.ALo(8,"async"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("formControl",n.data_select_control)("multiple",n.multi),t.xp6(3),t.Q6J("formControl",n.data_search_control),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,5,n.data_search)))},dependencies:[h.JJ,h.oH,Z.ey,Z.Nv,v.KE,v.hX,ot.gD,f.sg,rt.nu,f.Ov]}),a})();const In=["inputModel"];function Pn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.clearData())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}let En=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){let e=this.ds.all_input.get(this.url)?.input_data?.value;void 0!==e&&(this.data=e)}getValue(){return this.ds.all_input.get(this.url)?.input_data?.value}getLabel(){return this.ds.all_input.get(this.url)?.input_data?.label?"":this.ds.all_input.get(this.url)?.input_data?.label}saveData(){let e=new C;e.key=this.ds.all_input.get(this.url)?.input_data?.name,e.value=this.data,e.page=this.ds.dataLookup(this.isSidebar),e.url=this.url,this.ds.data_setter.emit(e)}clearData(){this.data="";let e=new C;e.key=this.ds.all_input.get(this.url)?.input_data?.name,e.value=this.data,e.page=this.ds.dataLookup(this.isSidebar),this.ds.data_setter.emit(e)}onPaste(e,n){e.preventDefault();const i=n.selectionStart,o=n.selectionEnd;if(e.clipboardData){let l=e.clipboardData.getData("text/plain");if(null!==i&&null!==o){const r=this.data.substring(0,i),c=this.data.substring(o);this.data=r+l+c}else this.data+=l}this.saveData()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-input"]],viewQuery:function(e,n){if(1&e&&t.Gf(In,5),2&e){let i;t.iGM(i=t.CRH())&&(n.inputModel=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},decls:6,vars:3,consts:[["appearance","fill",1,"example-form-field"],["matInput","","type","text",3,"ngModel","ngModelChange","paste"],["inputModel",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",1,2),t.NdJ("ngModelChange",function(l){return n.data=l})("ngModelChange",function(){return n.saveData()})("paste",function(l){t.CHM(i);const r=t.MAs(4);return t.KtG(n.onPaste(l,r))}),t.qZA(),t.YNc(5,Pn,3,0,"button",3),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",n.getLabel(),""),t.xp6(1),t.Q6J("ngModel",n.data),t.xp6(2),t.Q6J("ngIf",n.data))},dependencies:[h.Fj,h.JJ,h.On,I.lW,L.Hw,v.KE,v.hX,v.R9,j.Nt,f.O5]}),a})();var kt=p(33441);function Un(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",2),t.qZA())}let Yn=(()=>{class a{constructor(e,n,i,o){this.ds=e,this.fileSaverService=n,this.callService=i,this._snackBar=o,this.show=!1}getFileName(e){let n=/filename\*=UTF-8''([\w%\-\.]+)(?:; ?|$)/i,i=/^filename=(["']?)(.*?[^\\])\1(?:; ?|$)/i,o=null;if(n.test(e)){let l=n.exec(e);o=decodeURIComponent(l[1])}else{const l=e.toLowerCase().indexOf("filename=");if(l>=0){const r=e.slice(l),c=i.exec(r);null!=c&&c[2]&&(o=c[2])}}return o}onSave(){this.show=!0,void 0!==this.downloadCall&&this.downloadCall.unsubscribe();let e=this.callService.call_response(this.data?.url,{responseType:"blob",observe:"response"},void 0);this.downloadCall=e.subscribe(n=>{let i=new C;i.page=this.ds.dataLookup(!1),i.key=this.ds.all_input.get(this.url)?.download_data?.name,i.value=this.ds.makeid(2),i.url=this.url,this.ds.data_setter.emit(i);let o=n.headers.get("content-disposition"),l=this.getFileName(o);this.fileSaverService.save(n.body,l),this.show=!1},n=>{this.show=!1,this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"Failed download",status:"error"}})})}ngOnInit(){this.data=this.ds.get_input_data(this.url)?.download_data}fileLabel(){return this.data?.label}onSuc(e){}onErr(e){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(kt.m9),t.Y36(F),t.Y36(P.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-download"]],inputs:{url:"url"},decls:3,vars:2,consts:[["mat-raised-button","","color","primary",3,"click","success","error"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.onSave()})("success",function(o){return n.onSuc(o)})("error",function(o){return n.onErr(o)}),t._uU(1),t.qZA(),t.YNc(2,Un,5,0,"span",1)),2&e&&(t.xp6(1),t.hij(" Download ",n.fileLabel(),"\n"),t.xp6(1),t.Q6J("ngIf",n.show))},dependencies:[I.lW,z.pW,f.O5]}),a})();function Qn(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",2),t.qZA())}let Ln=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this._snackBar=i,this.myFiles=[],this.show=!1}ngOnInit(){this.data=this.ds.all_input.get(this.url)?.upload_data}getMultiple(){return this.data?.multi}saveData(e){this.show=!0;for(var n=0;n<e.target.files.length;n++)this.myFiles.push(e.target.files[n]);const i=new FormData;for(n=0;n<this.myFiles.length;n++)i.append("files",this.myFiles[n]);void 0!==this.uploadCall&&this.uploadCall.unsubscribe();let o=this.callService.call_response(this.data?.url,void 0,i);this.uploadCall=o.subscribe(l=>{this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"Sucessfully Uploaded file",status:"success"}});let r=new C;r.page=this.ds.dataLookup(!1),r.key=this.ds.all_input.get(this.url)?.upload_data?.name,r.value=this.ds.makeid(2),r.url=this.url,this.ds.data_setter.emit(r),this.myFiles=[],this.show=!1},l=>{this.show=!1,this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"Failed Uploaded file",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(F),t.Y36(P.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-upload"]],inputs:{url:"url"},decls:2,vars:2,consts:[["type","file",1,"file-upload",3,"multiple","change"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"input",0),t.NdJ("change",function(o){return n.saveData(o)}),t.qZA(),t.YNc(1,Qn,5,0,"span",1)),2&e&&(t.Q6J("multiple",n.getMultiple()),t.xp6(1),t.Q6J("ngIf",n.show))},dependencies:[z.pW,f.O5]}),a})(),Nn=(()=>{class a{constructor(e,n,i){this.dataService=e,this.sanitizer=n,this.callService=i}get_data(){this.data=this.dataService.get_input_data(this.url)?.image_data}get_image(){this.height=this.data.height,this.width=this.data.width,void 0!==this.imageCall&&this.imageCall.unsubscribe();let e=this.callService.call_response(this.data.url,{responseType:"blob",observe:"response"},void 0);this.imageCall=e.subscribe(n=>{this.image=n.body,null!==this.image&&(this.imageURL=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.image)))})}ngOnInit(){this.get_data(),this.get_image()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(S.H7),t.Y36(F))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-image"]],inputs:{url:"url"},decls:2,vars:5,consts:[["mat-card-sm-image","",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"span"),t._UZ(1,"img",0),t.qZA()),2&e&&(t.xp6(1),t.Udp("height",n.height)("width",n.width),t.Q6J("src",n.imageURL,t.LSH))},dependencies:[A.vP]}),a})();var Rn=p(63156),Bn=p(74970),qn=p(98168),Hn=p(83151),Gn=p(27969);function Kn(a,s){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let jn=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this.api_call_service=i,this.multi=!1,this.compareFn=(o,l)=>o&&l&&o.id===l.id,this.items=[],this.ServerSideCtrl=new h.p4,this.ServerSideFilteringCtrl=new h.p4,this.searching=!1,this.filteredServerSideBanks=new Dt.t(1),this._onDestroy=new Ft.x}ngOnInit(){this.originalData(),this.ServerSideFilteringCtrl.valueChanges.pipe((0,Bn.h)(e=>!!e),(0,qn.b)(()=>this.searching=!0),(0,W.R)(this._onDestroy),(0,Hn.b)(200),(0,Gn.U)(e=>this.items&&e?e:[]),(0,W.R)(this._onDestroy)).subscribe(e=>{this.pullData(e).subscribe(i=>{this.searching=!1;let r,o=this.ServerSideCtrl.value,l=i.simple_fitler_data;r=null!==o?l.concat(o):l,void 0!==i.ui_data&&this.api_call_service.saveUIData(i.ui_data),this.filteredServerSideBanks.next(r)},i=>{this.searching=!1})})}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}selectedData(){return this.ds.all_input.get(this.url)?.simple_server_filter_data?.selected}isMulti(){return this.ds.all_input.get(this.url)?.simple_server_filter_data?.multi}originalData(){let e=this.ds.all_input.get(this.url)?.simple_server_filter_data?.data;e=e.concat(this.selectedData()),this.data=[...new Set(e)],this.name=this.ds.all_input.get(this.url)?.simple_server_filter_data?.name,this.server_url=this.ds.all_input.get(this.url)?.simple_server_filter_data?.url,void 0!==this.selectedData()&&this.selectedData().length>0&&(this.isMulti()?this.ServerSideCtrl.setValue(this.selectedData()):this.ServerSideCtrl.setValue(this.selectedData()[0])),this.filteredServerSideBanks.next(this.data.slice())}pullData(e){return this.callService.second_call_response(this.server_url,this.name,e)}detectChange(e){let n=new C;n.key=this.ds.all_input.get(this.url)?.simple_server_filter_data?.name,n.value=e.value,n.page=this.ds.dataLookup(this.isSidebar),n.url=this.url,this.ds.data_setter.emit(n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(F),t.Y36(H))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-simple-server-filter"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:7,vars:7,consts:[["appearance","fill"],[3,"formControl","multiple","selectionChange"],["dataSelect",""],[3,"formControl","searching"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-select",1,2),t.NdJ("selectionChange",function(o){return n.detectChange(o)}),t.TgZ(3,"mat-option"),t._UZ(4,"ngx-mat-select-search",3),t.qZA(),t.YNc(5,Kn,2,2,"mat-option",4),t.ALo(6,"async"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formControl",n.ServerSideCtrl)("multiple",n.isMulti()),t.xp6(3),t.Q6J("formControl",n.ServerSideFilteringCtrl)("searching",n.searching),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,5,n.filteredServerSideBanks)))},dependencies:[h.JJ,h.oH,Z.ey,v.KE,ot.gD,f.sg,rt.nu,f.Ov]}),a})(),zn=(()=>{class a{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.H7,16))},a.\u0275pipe=t.Yjl({name:"safe",type:a,pure:!0}),a})(),Wn=(()=>{class a{constructor(e,n){this.sanitizer=e,this.ds=n}ngOnInit(){this.data=this.ds.get_input_data(this.url)?.iframe_data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.H7),t.Y36(x.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-iframe"]],inputs:{url:"url"},decls:2,vars:5,consts:[[3,"src","height","width"]],template:function(e,n){1&e&&(t._UZ(0,"iframe",0),t.ALo(1,"safe")),2&e&&t.Q6J("src",t.lcZ(1,3,n.data.url),t.uOi)("height",n.data.height)("width",n.data.width)},dependencies:[zn]}),a})(),Bt=(()=>{class a{constructor(e,n,i,o,l){this.ds=e,this.sanitizer=n,this.api=i,this.renderer=o,this.document=l,this.loading=!0}ngOnInit(){this.look_up=this.api.lookup(!1,this.url),this.page=this.ds.get_page(),this.ds.input_emitter.subscribe(n=>{if(n.lookup===this.look_up)if(void 0!==n.message)this.loading=!0;else if(n.calling)this.loading=!0;else{let i=n.t;if(this.loading=!1,this.htmlStr=this.sanitizer.bypassSecurityTrustHtml(i.custom_html_data?.html),void 0!==i?.custom_html_data?.script){const o=this.renderer.createElement("script");this.renderer.setProperty(o,"text",i?.custom_html_data?.script),this.renderer.appendChild(this.document.body,o)}}});let e=this.api.needToPull(!1,this.url,this.page);this.api.call_this.emit({forced:e,url:this.url,look_up:this.look_up,page:this.page,isSidebar:!1})}striptHide(){return void 0===this.scriptStr}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(S.H7),t.Y36(H),t.Y36(t.Qsj),t.Y36(f.K0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-custom-html"]],inputs:{url:"url"},decls:2,vars:1,consts:[[3,"innerHTML"],["css",""]],template:function(e,n){1&e&&t._UZ(0,"span",0,1),2&e&&t.Q6J("innerHTML",n.htmlStr,t.oJD)}}),a})();function $n(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",1),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(1),t.hij(" ",e.data.name," ")}}function Xn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",2),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(1),t.hij(" ",e.data.name," ")}}function Vn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(1),t.hij(" ",e.data.name," ")}}function ta(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",4),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(2),t.hij(" ",e.get_icon()," ")}}function ea(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(2),t.hij(" ",e.get_icon()," ")}}function na(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.trigger())}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Akn(e.get_style()),t.Q6J("color",e.get_color()),t.xp6(2),t.hij(" ",e.get_icon()," ")}}function aa(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",7),t.qZA())}let ia=(()=>{class a{constructor(e,n,i,o,l,r){this.ds=e,this.callService=n,this._snackBar=i,this._dialog=o,this.api_call_service=l,this.fileSaverService=r,this.myFiles=[],this.show=!1}reactiveity(e,n=""){let i=new C;i.page=this.ds.dataLookup(!1),i.key=this.data.name+"_"+e,i.value=""===n?this.ds.makeid(2):n,i.url=this.url+"_"+e,this.ds.data_setter.emit(i)}ngOnInit(){this.data=this.ds.all_input.get(this.url)?.button_data}open_dialog(e){this._dialog.open(Ct,{width:e?.display_dialog?.width,height:e?.display_dialog?.height,data:{custom_html:e?.display_dialog?.custom_message}}).afterClosed().subscribe(i=>{console.log(`Dialog result: ${i}`)})}get_type(){return this.data.button_type}get_color(){return this.data.color}get_style(){return this.data?.style}get_icon(){return this.data?.icon}getFileName(e){let n=/filename\*=UTF-8''([\w%\-\.]+)(?:; ?|$)/i,i=/^filename=(["']?)(.*?[^\\])\1(?:; ?|$)/i,o=null;if(n.test(e)){let l=n.exec(e);o=decodeURIComponent(l[1])}else{const l=e.toLowerCase().indexOf("filename=");if(l>=0){const r=e.slice(l),c=i.exec(r);null!=c&&c[2]&&(o=c[2])}}return o}trigger(){if(this.reactiveity("triggered"),this.show=!0,void 0!==this.downloadCall&&this.downloadCall.unsubscribe(),this.data.download)return void this.download_data();if(this.data.redirect)return void window.open(this.data.url,this.data.target_attribute);void 0!==this.second_call&&this.second_call.unsubscribe();let e=this.callService.second_call_response(this.data.url,this.data.name,"");this.second_call=e.subscribe(n=>{try{var i=n;void 0!==i.button_data&&this.reactiveity("result",i.button_data?.name),this._snackBar.openFromComponent(T,{duration:1e3*i.display?.duration,data:{message:i.display?.message,status:i.display?.status}}),this.show=!1,void 0!==i.display_dialog&&this.open_dialog(i),void 0!==i.ui_data&&this.api_call_service.saveUIData(i.ui_data),this.reactiveity("success"),void 0!==i.button_data&&i.button_data.redirect&&window.open(i.button_data.url,i.button_data.target_attribute)}catch{this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"backend failed",status:"error"}})}},n=>{this.show=!1,this.reactiveity("failed"),this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"API called Failed",status:"error"}})})}download_data(){let e=this.callService.call_response(this.data?.url,{responseType:"blob",observe:"response"},void 0),n=new C;this.downloadCall=e.subscribe(i=>{this.reactiveity("download","success"),this.ds.data_setter.emit(n);let o=i.headers.get("content-disposition"),l=this.getFileName(o);this.fileSaverService.save(i.body,l),this.show=!1},i=>{this.reactiveity("download","failed"),this.show=!1,this.ds.data_setter.emit(n),this._snackBar.openFromComponent(T,{duration:5e3,data:{message:"Failed download",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(F),t.Y36(P.ux),t.Y36(M.uw),t.Y36(H),t.Y36(kt.m9))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-button"]],inputs:{url:"url"},decls:7,vars:7,consts:[[4,"ngIf"],["mat-button","",3,"color","click"],["mat-raised-button","",3,"color","click"],["mat-stroked-button","",3,"color","click"],["mat-fab","",3,"color","click"],["mat-mini-fab","",3,"color","click"],["mat-icon-button","",3,"color","click"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.YNc(0,$n,3,4,"span",0),t.YNc(1,Xn,3,4,"span",0),t.YNc(2,Vn,3,4,"span",0),t.YNc(3,ta,4,4,"span",0),t.YNc(4,ea,4,4,"span",0),t.YNc(5,na,4,4,"span",0),t.YNc(6,aa,5,0,"span",0)),2&e&&(t.Q6J("ngIf","basic"===n.get_type()),t.xp6(1),t.Q6J("ngIf","raised"===n.get_type()),t.xp6(1),t.Q6J("ngIf","stroked"===n.get_type()),t.xp6(1),t.Q6J("ngIf","fab"===n.get_type()),t.xp6(1),t.Q6J("ngIf","mini_fab"===n.get_type()),t.xp6(1),t.Q6J("ngIf","icon"===n.get_type()),t.xp6(1),t.Q6J("ngIf",n.show))},dependencies:[I.lW,L.Hw,z.pW,f.O5]}),a})();var Ot=p(31308),pt=p(14984),At=p(89181);function sa(a,s){1&a&&(t.TgZ(0,"mat-option",6),t._UZ(1,"mat-spinner",7),t.qZA())}function oa(a,s){if(1&a&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function la(a,s){if(1&a&&(t.ynx(0),t.YNc(1,oa,2,2,"mat-option",8),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.options)}}let ra=(()=>{class a extends Ot.mL{constructor(e,n,i){super(n),this.callService=e,this.api_call_service=i,this.url="",this.name="",this.current_value="",this.fetchSuggestions=o=>this.callService.second_call_response(this.url,this.name,o),this.isLoading=!1}ngOnInit(){super.ngOnInit(),this.url=this.scopedSchema.url,this.name=this.scopedSchema.search_name,this.form.valueChanges.subscribe(e=>{e!==this.current_value&&(this.current_value=e,this.fetchSuggestions(e).subscribe(n=>{let i=n;this.options=i.simple_fitler_data,void 0!==i.ui_data&&this.api_call_service.saveUIData(i.ui_data)}))})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(F),t.Y36(At.KT),t.Y36(H))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-json-forms-server-side"]],features:[t.qOj],decls:10,vars:8,consts:[["fxFlex",""],["matInput","","type","text",3,"placeholder","id","formControl","matAutocomplete","input"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[4,"ngIf"],[1,"is-loading"],["diameter","30"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",1),t.NdJ("input",function(o){return n.onChange(o)}),t.qZA(),t.TgZ(4,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(o){return n.onSelect(o)}),t.YNc(6,sa,2,0,"mat-option",4),t.YNc(7,la,2,1,"ng-container",5),t.qZA(),t.TgZ(8,"mat-error"),t._uU(9),t.qZA()()),2&e){const i=t.MAs(5);t.xp6(2),t.Oqu(n.label),t.xp6(1),t.s9C("placeholder",n.description),t.Q6J("id",n.id)("formControl",n.form)("matAutocomplete",i),t.xp6(3),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading),t.xp6(2),t.Oqu(n.error)}},dependencies:[O.yH,h.Fj,h.JJ,h.oH,yt.XC,yt.ZL,Z.ey,v.TO,v.KE,v.hX,j.Nt,Yt.Ou,f.sg,f.O5]}),a})();function pa(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",3),t.qZA())}const ca=(0,pt.xDy)((0,pt.TDq)("string"),(0,pt.wcO)(a=>a.hasOwnProperty("url")));let _a=(()=>{class a{constructor(e,n,i,o,l){this.ds=e,this.callService=n,this._snackBar=i,this._dialog=o,this.api_call_service=l,this.show=!1,this.renderers=[...Ot.x,{tester:(0,pt.yMz)(5,ca),renderer:ra}]}ngOnInit(){this.data=this.ds.all_input.get(this.url)?.form_data,this.formData=this.data.data}open_dialog(e){this._dialog.open(Ct,{width:e?.display_dialog?.width,height:e?.display_dialog?.height,data:{custom_html:e?.display_dialog?.custom_message}}).afterClosed().subscribe(i=>{console.log(`Dialog result: ${i}`)})}reactiveity(e){let n=new C;n.page=this.ds.dataLookup(!1),n.key=this.ds.all_input.get(this.url)?.form_data?.name+"_"+e,n.value=this.ds.makeid(2),n.url=this.url+"_"+e,this.ds.data_setter.emit(n)}trigger(){let e=new C;e.page=this.ds.dataLookup(!1),e.url=this.url,e.key=this.data.name,e.value=this.formData,this.show=!0,this.ds.data_setter.emit(e),this.reactiveity("triggered");let n=this.callService.second_call_response(this.data.submit_info.url,void 0,void 0);this.call=n.subscribe(i=>{let o=i,l=o.display?.duration,c="API called Sucessfully ";null!=o.display?.message&&(c=o.display?.message);let u=o.display?.status;this._snackBar.openFromComponent(T,{duration:1e3*l,data:{message:c,status:u}}),void 0!==o.display_dialog&&this.open_dialog(o),void 0!==o.ui_data&&this.api_call_service.saveUIData(o.ui_data),this.reactiveity("success"),null!=o.response_form_data&&(window.location.href=o.response_form_data.redirect_url),this.show=!1},i=>{this.reactiveity("failed");let o=i.error.display?.duration;void 0===o&&(o=5);this.show=!1,this._snackBar.openFromComponent(T,{duration:1e3*o,data:{message:"API called Failed",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(F),t.Y36(P.ux),t.Y36(M.uw),t.Y36(H))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-form"]],inputs:{url:"url"},decls:7,vars:6,consts:[[3,"data","schema","uischema","renderers","dataChange"],["mat-raised-button","","color","primary",2,"position","absolute","left","50%",3,"click"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"jsonforms",0),t.NdJ("dataChange",function(o){return n.formData=o}),t.qZA(),t.TgZ(1,"button",1),t.NdJ("click",function(){return n.trigger()}),t._uU(2),t.qZA(),t._UZ(3,"br")(4,"br")(5,"br"),t.YNc(6,pa,5,0,"span",2)),2&e&&(t.Q6J("data",n.formData)("schema",n.data.form_schema)("uischema",n.data.ui_schema)("renderers",n.renderers),t.xp6(2),t.Oqu(n.data.submit_info.name),t.xp6(4),t.Q6J("ngIf",n.show))},dependencies:[I.lW,z.pW,f.O5,At.C]}),a})();function da(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-box",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function ua(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-datetime",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function ma(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-table",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function ha(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-plot",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function ga(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-checkbox",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function fa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-radio",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function xa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-slider",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function ba(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-button-toggle",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Ca(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-toggle",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function va(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"app-entry-point",7),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setReactivity(l.url,i))}),t.qZA(),t._UZ(2,"br"),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i,o,l,r,c;t.xp6(1),t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",n.isSidebar)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"100%%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"100%")("fxFlex.sm",(null==(r=n.flexData.get(e.url))?null:r.fxFlex_sm)||"100%")("fxFlex.xs",(null==(c=n.flexData.get(e.url))?null:c.fxFlex_sm)||"100%")}}function ya(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,va,3,7,"span",6),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.getURLs())}}function Ta(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-tab",9),t._UZ(1,"br"),t.TgZ(2,"app-sub-entry-point",10),t.NdJ("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setReactivity(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setReactivity(l.url,i))})("fd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setFlex(l.url,i))}),t.qZA()()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i,o,l,r,c;t.Q6J("label",e.name||""),t.xp6(2),t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",n.isSidebar)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"100%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"100%")("fxFlex.sm",(null==(r=n.flexData.get(e.url))?null:r.fxFlex_sm)||"100%")("fxFlex.xs",(null==(c=n.flexData.get(e.url))?null:c.fxFlex_sm)||"100%")}}function wa(a,s){if(1&a&&(t.TgZ(0,"span")(1,"mat-tab-group"),t.YNc(2,Ta,3,8,"mat-tab",8),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.getURLs())}}function Sa(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4),t.qZA()(),t._UZ(5,"br"),t.TgZ(6,"mat-panel-description",5)(7,"app-sub-entry-point",11),t.NdJ("rd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setReactivity(l.url,i))})("fd",function(i){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.setFlex(l.url,i))}),t.qZA()()()()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i,o,l,r,c;t.xp6(4),t.hij(" ",e.name," "),t.xp6(3),t.Q6J("url",e.url)("isSidebar",n.isSidebar)("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"100%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"100%")("fxFlex.sm",(null==(r=n.flexData.get(e.url))?null:r.fxFlex_sm)||"50%")("fxFlex.xs",(null==(c=n.flexData.get(e.url))?null:c.fxFlex_sm)||"100%")}}function Za(a,s){if(1&a&&(t.TgZ(0,"span")(1,"mat-accordion"),t._UZ(2,"br")(3,"br"),t.YNc(4,Sa,8,8,"span",6),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.getURLs())}}function Da(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-simple-filter",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Fa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-simple-server-filter",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function ka(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-group-filter",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Oa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-input",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Aa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-app-download",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Ma(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-app-upload",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Ja(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-app-image",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Ia(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-highchart",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Pa(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-app-iframe",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Ea(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-custom-html",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.url)}}function Ua(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-button",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Ya(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-form",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Qa(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"mat-progress-bar",12),t.qZA())}function La(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.copy_error())}),t.TgZ(2,"mat-icon"),t._uU(3,"content_copy"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Copy Error"),t.qZA()(),t.TgZ(6,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.force_refresh())}),t.TgZ(7,"mat-icon"),t._uU(8,"refresh"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Refresh Data"),t.qZA()()()}}let Na=(()=>{class a{constructor(e,n,i,o){this.ds=e,this.clipboard=n,this.dialog=i,this.api=o,this.rd=new t.vpe,this.fd=new t.vpe,this.reactivityData=new Map,this.flexData=new Map,this.reactive=new Gt,this.d=new Map,this.loading=!0,this.failed=!1}ngOnInit(){this.look_up=this.api.lookup(this.isSidebar,this.url),this.page=this.ds.get_page(),this.ds.input_emitter.subscribe(n=>{if(n.lookup===this.look_up)if(void 0!==n.message)this.loading=!0,this.failed=!0,this.error=n.message,this.tooltip_data=void 0,this.dialog_data=void 0,this.name=void 0,this.type=void 0;else if(n.calling)this.loading=!0,this.failed=!1,this.tooltip_data=void 0,this.dialog_data=void 0,this.name=void 0,this.type=void 0;else{let i=n.t;this.loading=!1,this.failed=!1,this.tooltip_data=i?.tooltip_data,this.dialog_data=i?.dialog_data,this.reactive=i?.reactive,this.fd.emit(i.flex),this.rd.emit(this.reactive),this.name=this.api.set_name(i),this.type=i?.type,this.multi_url=this.api.get_multi_url(i)}});let e=this.api.needToPull(this.isSidebar,this.url,this.page);this.api.call_this.emit({forced:e,url:this.url,look_up:this.look_up,page:this.page,isSidebar:this.isSidebar})}getURLs(){return this.multi_url}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}copy_error(){this.clipboard.copy(this.error)}force_refresh(){this.api.getData(!0,this.url,this.look_up,this.page,this.isSidebar,"")}openDialog(){this.dialog_data&&this.dialog.open(We,{height:this.dialog_data.height,width:this.dialog_data.width,data:this.dialog_data.url})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.D),t.Y36(xt.TU),t.Y36(M.uw),t.Y36(H))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-sub-entry-point"]],inputs:{url:"url",isSidebar:"isSidebar"},outputs:{rd:"rd",fd:"fd"},decls:28,vars:28,consts:[[3,"matTooltip","matTooltipDisabled","click"],[4,"ngIf"],["class","center",4,"ngIf"],[3,"url"],[3,"url","isSidebar"],[1,"center"],[4,"ngFor","ngForOf"],[1,"padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","rd","fd"],[3,"url","isSidebar","hidden","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","rd","fd"],["mode","query"],["mat-menu-item","",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"span",0),t.NdJ("click",function(){return n.openDialog()}),t.YNc(1,da,2,1,"span",1),t.YNc(2,ua,2,2,"span",1),t.YNc(3,ma,2,1,"span",1),t.YNc(4,ha,2,1,"span",1),t.YNc(5,ga,2,1,"span",2),t.YNc(6,fa,2,2,"span",2),t.YNc(7,xa,2,2,"span",2),t.YNc(8,ba,2,2,"span",2),t.YNc(9,Ca,2,2,"span",2),t.YNc(10,ya,2,1,"span",1),t.YNc(11,wa,3,1,"span",1),t.YNc(12,Za,5,1,"span",1),t.YNc(13,Da,2,2,"span",2),t.YNc(14,Fa,2,2,"span",2),t.YNc(15,ka,2,2,"span",2),t.YNc(16,Oa,2,2,"span",2),t.YNc(17,Aa,2,1,"span",2),t.YNc(18,Ma,2,1,"span",2),t.YNc(19,Ja,2,1,"span",1),t.YNc(20,Ia,2,1,"span",1),t.YNc(21,Pa,2,1,"span",1),t.YNc(22,Ea,2,1,"span",1),t.YNc(23,Ua,2,1,"span",2),t.YNc(24,Ya,2,1,"span",1),t.YNc(25,Qa,2,0,"span",1),t._UZ(26,"br"),t.YNc(27,La,11,0,"span",1),t.qZA()),2&e){let i;t.Q6J("matTooltip",null!==(i=null==n.tooltip_data?null:n.tooltip_data.label)&&void 0!==i?i:"")("matTooltipDisabled",void 0===n.tooltip_data),t.xp6(1),t.Q6J("ngIf","box"===n.type),t.xp6(1),t.Q6J("ngIf","date"===n.type),t.xp6(1),t.Q6J("ngIf","table"===n.type),t.xp6(1),t.Q6J("ngIf","chart"===n.type),t.xp6(1),t.Q6J("ngIf","checkbox"===n.type),t.xp6(1),t.Q6J("ngIf","radio"===n.type),t.xp6(1),t.Q6J("ngIf","slider"===n.type),t.xp6(1),t.Q6J("ngIf","button_toggle"===n.type),t.xp6(1),t.Q6J("ngIf","toggle"===n.type),t.xp6(1),t.Q6J("ngIf","multi_list"===n.type),t.xp6(1),t.Q6J("ngIf","multi_tabs"===n.type),t.xp6(1),t.Q6J("ngIf","multi_expand"===n.type),t.xp6(1),t.Q6J("ngIf","simple_filter"==n.type),t.xp6(1),t.Q6J("ngIf","simple_server_filter"==n.type),t.xp6(1),t.Q6J("ngIf","group_filter"==n.type),t.xp6(1),t.Q6J("ngIf","input"==n.type),t.xp6(1),t.Q6J("ngIf","download"==n.type),t.xp6(1),t.Q6J("ngIf","upload"==n.type),t.xp6(1),t.Q6J("ngIf","image"==n.type),t.xp6(1),t.Q6J("ngIf","highchart"==n.type),t.xp6(1),t.Q6J("ngIf","iframe"==n.type),t.xp6(1),t.Q6J("ngIf","custom_html"==n.type),t.xp6(1),t.Q6J("ngIf","button"==n.type),t.xp6(1),t.Q6J("ngIf","form"==n.type),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(2),t.Q6J("ngIf",n.failed)}},dependencies:[O.yH,q.pp,q.ib,q.yz,q.yK,q.u4,L.Hw,et.OP,z.pW,Zt.SP,Zt.uX,Lt.gM,f.sg,f.O5,$e,tn,_n,dn,fn,yn,nt,Tn,Sn,Zn,kn,Jn,a,En,Yn,Ln,Nn,Rn.q,jn,Wn,Bt,ia,_a],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.full[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}"]}),a})();var qt=p(44740),Ra=p(43012),Ba=p(68512),qa=p(83787);let Ha=(()=>{class a{constructor(e,n){this.cookie=e,this.data=n}intercept(e,n){return"POST"===e.method?n.handle(e).pipe((0,it.K)(i=>(401===i.status&&(this.cookie.deleteCookie("auth_token"),this.data.reset_data()),(0,qa._)(i)))):n.handle(e)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(Ht),t.LFG(x.D))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})(),Ht=(()=>{class a{constructor(e){this.document=e}deleteCookie(e){this.document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(f.K0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})(),Ga=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a,bootstrap:[xe]}),a.\u0275inj=t.cJS({providers:[Jt.N,{provide:Q.TP,useClass:Ha,multi:!0},Ht,{provide:qt.mA,useFactory:()=>[Ra,Ba]}],imports:[Ge.o9,h.u5,h.UX,Je.rt,Ie.XD,xt.Iq,Ye.U5,vt.HT,Qe.nZ,Pe._t,yt.Bb,Le.g,Ne._r,I.ot,Tt.vV,A.QW,Ut.p9,Re.Hi,Be.T5,G.FA,M.Is,Et.t,q.To,at.N6,L.Ps,j.c,K.ie,et.Tx,Z.XK,wt.TU,z.Cv,Yt.Cq,St.Fk,Z.si,ot.LD,st.SJ,Qt.KP,bt.rP,P.ZX,lt.JX,E.p0,Zt.Nh,Pt.g0,Lt.AV,qe.dp,He.U8,Ee.eL,Ue.Cl,S.b2,Q.JF,Ae,J.Bz,Me.PW,Mt.xu,Nt.Ns.forRoot({echarts:()=>p.e(275).then(p.bind(p,36275))}),rt.Co,kt.pL,qt.SD,At.R2,Ot.D]}),a})();t.B6R(nt,function(){return[A.a8,A.dk,A.dn,A.rt,f.O5,Na,Bt]},[]),(0,t.G48)(),S.q6().bootstrapModule(Ga).catch(a=>console.error(a)),console.info("Angular CDK version",ct.q.full),console.info("Angular Material version",Z.q4.full)}},m=>{m.O(0,[736],()=>m(m.s=34996)),m.O()}]);