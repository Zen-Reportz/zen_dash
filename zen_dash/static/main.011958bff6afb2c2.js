"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{63156:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>HighchartComponent});var angular_highcharts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44740),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64537),src_app_services_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52468);let HighchartComponent=(()=>{class HighchartComponent{constructor(F){this.dataService=F}checkFunction(object){Object.keys(object).forEach(k=>{object[k]&&"object"==typeof object[k]&&this.checkFunction(object[k]),("string"==typeof object[k]||object[k]instanceof String)&&(object[k].includes("new Date")||object[k].includes("function"))&&(object[k]=eval(object[k]))})}ngOnInit(){this.checkFunction(this.dataService.all_input.get(this.url)?.highchart_data?.config),"chart"==this.dataService.all_input.get(this.url)?.highchart_data?.type&&(this.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_0__.kL(this.dataService.all_input.get(this.url)?.highchart_data?.config)),"stock"==this.dataService.all_input.get(this.url)?.highchart_data?.type&&(this.data=new angular_highcharts__WEBPACK_IMPORTED_MODULE_0__.Du(this.dataService.all_input.get(this.url)?.highchart_data?.config)),setTimeout(this.resize_it,1e3)}resize_it(){window.dispatchEvent(new Event("resize"))}}return HighchartComponent.\u0275fac=function F(O){return new(O||HighchartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(src_app_services_data_service__WEBPACK_IMPORTED_MODULE_2__.D))},HighchartComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:HighchartComponent,selectors:[["app-highchart"]],inputs:{url:"url"},decls:1,vars:1,consts:[[3,"chart"]],template:function F(O,r){1&O&&_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(0,"div",0),2&O&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("chart",r.data)},dependencies:[angular_highcharts__WEBPACK_IMPORTED_MODULE_0__.Dm],styles:[".highcharts-container[_ngcontent-%COMP%], .highcharts-root[_ngcontent-%COMP%]{width:100%!important}"]}),HighchartComponent})()},52468:(F,O,r)=>{r.d(O,{D:()=>lt});var y=r(64537),t=r(21312);let lt=(()=>{class T{constructor(c,u){this.router=c,this.activatedRoute=u,this.defaul_page="page_0",this.all_input=new Map,this.input_emitter=new y.vpe,this.data={global:{device_information:["device_information",{browser:navigator.userAgent,screen_info:{height:screen.availHeight,width:screen.availWidth}}]}},this.data_setter=new y.vpe,this.refresh=new y.vpe,window.data_service=this,window.data_service_get_page=this.get_page,window.data_service_get_all=this.get_all,this.data_setter.subscribe(h=>{console.log(h),this.reset_path(u),void 0===this.data[h.page]&&(this.data[h.page]={}),this.data[h.page][h.url]=[h.key,h.value]})}reset_path(c){let h={};h={page:this.get_page()[0]};let C=new URL(window.location.href),v=new URLSearchParams(C.search);null!==v.get("document_id")&&(null!==v.get("page")?this.router.navigate([],{relativeTo:c,queryParams:{page:v.get("page")}}):this.router.navigate([],{relativeTo:c,queryParams:{}}))}get_page(){let c=new URL(window.location.href),u=new URLSearchParams(c.search),h="page_0";return h=null!==u.get("page")?u.get("page"):this.defaul_page,h}get_data(c,u){if(void 0!==this.data[c])return this.data[c][u]}get_all(){let c;try{c=this.get_page()}catch{c=window.data_service_get_page()}let h,C,u={url:window.location.href};try{h=this.data[c]??{}}catch{h=window.data_service.data[c]??{}}Object.entries(h).forEach(([v,Q])=>{u[Q[0]]=Q[1]});try{C=this.data.global??{}}catch{C=window.data_service.data.global??{}}return Object.entries(C).forEach(([v,Q])=>{"page"===v?u[v]=Q:u[Q[0]]=Q[1]}),u}get_input_data(c){return this.all_input.get(c)}set_data(c,u,h){void 0===this.data[c]&&(this.data[c]={}),this.data[c][u]=h}input_lookup(c,u){return u+"$ZenLookup$"+c}trueTypeOf(c){return Object.prototype.toString.call(c).slice(8,-1).toLowerCase()}dataLookup(c){return c?"global":this.get_page()}save_instance(c,u,h){switch(c.type){case"date":let C=c.date_data;C.second_date?(C.first_date=u[0],C.second_date=u[1]):C.first_date=u,c.date_data=C,this.all_input.set(h,c);break;case"radio":let v=c.radio_data;v.selected=u,c.radio_data=v,this.all_input.set(h,c);break;case"checkbox":let Q=c.checkbox_data;Q.data=u,c.checkbox_data=Q,this.all_input.set(h,c);break;case"slider":let M=c.slider_data;M.value=u,c.slider_data=M,this.all_input.set(h,c);break;case"button_toggle":let B=c.button_toggle_data;if(B.multi)for(let P of B.data)P.selected=-1!==u.indexOf(P.name);else for(let P of B.data)P.selected=P.name===u;c.button_toggle_data=B,this.all_input.set(h,c);break;case"toggle":let rt=c.toggle_data;rt.checked=u,c.toggle_data=rt,this.all_input.set(h,c);break;case"simple_filter":let z=c.simple_filter_data;z.selected=z.multi?u:[u],c.simple_filter_data=z,this.all_input.set(h,c);break;case"simple_server_filter":let K=c.simple_server_filter_data;K.selected=K.multi?u:[u],c.simple_server_filter_data=K,this.all_input.set(h,c);break;case"group_filter":let X=c.group_filter_data;X.selected=X.multi?u:[u],c.group_filter_data=X,this.all_input.set(h,c);break;case"input":let pt=c.input_data;pt.value=u,c.input_data=pt,this.all_input.set(h,c);break;default:console.error(c.type)}}save_default(){let c=this.get_page();for(const[u,h]of Object.entries(this.data.global))try{if("page"!==u){let C=h,v=this.all_input.get(u);this.save_instance(v,C[1],u)}}catch{}try{for(const[u,h]of Object.entries(this.data[c])){let C=h,v=this.all_input.get(u);this.save_instance(v,C[1],u)}}catch{}}isFullCustom(c){return null!=this.all_input.get(c)?.custom_html_data?.full_custom&&this.all_input.get(c)?.custom_html_data?.full_custom}makeid(c){let u="";const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",C=h.length;let v=0;for(;v<c;)u+=h.charAt(Math.floor(Math.random()*C)),v+=1;return u}}return T.\u0275fac=function(c){return new(c||T)(y.LFG(t.F0),y.LFG(t.gz))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},41877:(F,O,r)=>{var y=r(5998),t=r(64537),lt=r(68014),T=r(52612);class x{}class Nt{}var N=r(7666),g=r(88692);function Et(a,s){if(1&a&&(t.TgZ(0,"span",3)(1,"span",4),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"span",4),t._uU(5," Built using Zen Dash "),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.data.message,"")}}function Lt(a,s){if(1&a&&(t.TgZ(0,"span")(1,"span",5),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.data.message,"")}}function Rt(a,s){if(1&a&&(t.TgZ(0,"span")(1,"span",6),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.data.message,"")}}function qt(a,s){1&a&&(t.TgZ(0,"span",3)(1,"span",4),t._uU(2," Built using Zen Dash "),t.qZA()())}let Z=(()=>{class a{constructor(e){this.data=e}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(N.qD))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-loading"]],decls:4,vars:4,consts:[["style"," width: 100%; display: inline-block;",4,"ngIf"],[4,"ngIf"],["style","width: 100%; display: inline-block;",4,"ngIf"],[2,"width","100%","display","inline-block"],[1,"success"],[1,"warn"],[1,"error"]],template:function(e,n){1&e&&(t.YNc(0,Et,6,1,"span",0),t.YNc(1,Lt,3,1,"span",1),t.YNc(2,Rt,3,1,"span",1),t.YNc(3,qt,3,0,"span",2)),2&e&&(t.Q6J("ngIf","success"===n.data.status),t.xp6(1),t.Q6J("ngIf","warn"===n.data.status),t.xp6(1),t.Q6J("ngIf","error"===n.data.status),t.xp6(1),t.Q6J("ngIf","loading"===n.data.status))},dependencies:[g.O5],styles:[".warn[_ngcontent-%COMP%]{color:#ffffe0}.error[_ngcontent-%COMP%]{color:#ff69b4}.success[_ngcontent-%COMP%]{color:#90ee90;margin:auto;width:50%;padding:10px}"]}),a})();var Tt=r(21444),E=r(35732),f=r(52468),D=r(21312),ct=r(89284),Ht=r(98826);let St=(()=>{class a{constructor(e,n){this.aRoute=e,this.ds=n}request_change(){let e=this.ds.get_all();void 0!==this.subject&&this.subject.next(e)}ws_or_wss(){if(window.location.href.split("/?")[0].includes("https")){let e=window.location.href.split("?")[0].split("https://")[1];return e=e.substring(0,e.length-1),"wss://"+e}{let e=window.location.href.split("?")[0].split("http://")[1];return e=e.substring(0,e.length-1),"ws://"+e}}delay(e){return new Promise(n=>setTimeout(n,e))}save_data(e,n){for(const[i,o]of Object.entries(e)){let l=JSON.parse(o);n.input_emitter.emit({calling:!0,lookup:i,t:void 0,message:void 0}),new Promise(d=>setTimeout(d,2e3)).then(()=>{n.all_input.delete(i),n.all_input.set(i,l),n.input_emitter.emit({calling:!1,lookup:i,t:l,message:void 0})})}}connect(e,n){"complete"===n&&delete this.subject,void 0!==n&&console.log(n);let i=this.ws_or_wss()+e,o=this.ds.get_all();new Promise(p=>setTimeout(p,1e4)).then(()=>{this.subject=(0,Ht.j)(i),this.subject.subscribe({next:p=>this.save_data(p,this.ds),error:p=>this.connect(i,p),complete:()=>this.connect(i,"complete")}),this.subject.next(o)})}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(D.gz),t.LFG(f.D))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),w=(()=>{class a{constructor(e,n,i){this.http=e,this.dataService=n,this.ws=i,this.refresh_listener=new t.vpe,this.config={retry_count:2,show_right_sidebar:!1,refresh:{refresh:!0,rate_in_seconds:300},websocket:{active:!1}}}pullConfiguration(e="/backend/configuration"){let n;if(e.includes("http"))n=e;else{let i=this.my_url();"/"===e[0]&&(e=e.substring(1)),n=i+e}this.http.get(e).subscribe(i=>{this.config=i,this.config.websocket.active&&this.ws.connect("/backend/ws"),this.config.refresh.refresh&&this.refresh_listener.emit(!0)})}show_right_sidebar(){return this.config.show_right_sidebar}get_retry(){let e;try{e=this.config.retry_count}catch{e=2}return e}call_response(e,n,i){let o;if(e.includes("http"))o=e;else{let _=this.my_url();"/"===e[0]&&(e=e.substring(1)),o=_+e}let l={};if(void 0!==i){l=i;let _=this.dataService.get_all();Object.entries(_).forEach((I,R)=>{l.append(R,I)})}else l=this.dataService.get_all();let p,d=this.get_retry();return p=void 0===n?this.http.post(o,l).pipe((0,ct.X)({count:d,delay:2e3})):this.http.post(o,l,n).pipe((0,ct.X)({count:d,delay:2e3})),p}second_call_response(e,n,i){let o;if(e.includes("http"))o=e;else{let _=this.my_url();"/"===e[0]&&(e=e.substring(1)),o=_+e}let l=this.dataService.get_all();l[n]=i;let p,d=this.get_retry();return p=this.http.post(o,l).pipe((0,ct.X)({count:d,delay:2e3})),p}my_url(){return window.location.href.split("?")[0]}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(E.eN),t.LFG(f.D),t.LFG(St))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var dt=r(24580),S=r(46842),L=r(9638),q=r(83331),H=r(50814),$=r(83319),nt=r(42094),ut=r(64639),wt=r(25295),Zt=r(46438),Y=r(47408);const Gt=["script"];function jt(a,s){if(1&a&&(t.TgZ(0,"mat-card-footer",4),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getFooter()," ")}}function Bt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-header",1)(2,"h4"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"app-sub-entry-point",2),t.NdJ("rd",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.rd.emit(i))})("fd",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.fx.emit(i))}),t.qZA()(),t.YNc(6,jt,2,1,"mat-card-footer",3),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.getTitle()),t.xp6(2),t.Q6J("url",e.url)("isSidebar",e.isSidebar),t.xp6(1),t.Q6J("ngIf",e.getFooter())}}function zt(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-custom-html",5),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.url)}}let W=(()=>{class a{constructor(e,n){this.ds=e,this.cd=n,this.fx=new t.vpe,this.rd=new t.vpe,this.pulled=!1,this.script_code=""}ngOnInit(){let e="";e=this.isSidebar?"sidebar":this.ds.get_page(),this.look_up=this.ds.input_lookup(e,this.url)}ngAfterViewInit(){this.cd.detectChanges()}getFooter(){return void 0!==this.ds.all_input.get(this.look_up)&&this.ds.all_input.get(this.look_up)?.footer}getTitle(){return void 0!==this.ds.all_input.get(this.look_up)?this.ds.all_input.get(this.look_up)?.title:""}get_lookup_url(){this.ds.get_page();let n="";n=this.isSidebar?"sidebar":this.ds.get_page(),this.look_up=this.ds.input_lookup(n,this.url)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-entry-point"]],viewQuery:function(e,n){if(1&e&&t.Gf(Gt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.script=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},outputs:{fx:"fx",rd:"rd"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],[3,"url","isSidebar","rd","fd"],["style","font-size: 10px; text-align: center",4,"ngIf"],[2,"font-size","10px","text-align","center"],[3,"url"]],template:function(e,n){1&e&&(t.YNc(0,Bt,7,4,"mat-card",0),t.YNc(1,zt,2,1,"span",0)),2&e&&(t.Q6J("ngIf",!n.ds.isFullCustom(n.look_up)),t.xp6(1),t.Q6J("ngIf",n.ds.isFullCustom(n.look_up)))}}),a})();function Kt(a,s){1&a&&t._UZ(0,"p")}const Ft=function(a){return{page:a}};function Xt(a,s){if(1&a&&(t.TgZ(0,"mat-list-option",6)(1,"a",7)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&a){const e=t.oxw(),n=e.index,i=e.$implicit,o=t.oxw(3);t.Q6J("selected","page_"+n===o.page),t.xp6(1),t.Udp("height","45px"),t.Q6J("routerLink",".")("queryParams",t.VKq(7,Ft,"page_"+n)),t.xp6(2),t.hij("",i.icon," "),t.xp6(1),t.hij(" ",i.label," ")}}function $t(a,s){if(1&a&&(t.TgZ(0,"mat-list-option",6)(1,"a",7)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&a){const e=s.$implicit,n=s.index,i=t.oxw(2).index,o=t.oxw(3);t.Q6J("selected","page_"+i+"_"+n===o.page),t.xp6(1),t.Udp("height","45px"),t.Q6J("routerLink",".")("queryParams",t.VKq(7,Ft,"page_"+i+"_"+n)),t.xp6(2),t.hij("",e.icon," "),t.xp6(1),t.hij(" ",e.label," ")}}function Wt(a,s){if(1&a&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header"),t._uU(2),t.qZA(),t.TgZ(3,"mat-nav-list"),t.YNc(4,$t,5,9,"mat-list-option",8),t.qZA()()),2&a){const e=t.oxw().$implicit;t.ekj("mat-elevation-z0",!0),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",e.subtabs)}}function Vt(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,Kt,1,0,"p",3),t.YNc(2,Xt,5,9,"ng-template",null,4,t.W1O),t.YNc(4,Wt,5,4,"ng-template",null,5,t.W1O),t.qZA()),2&a){const e=s.$implicit,n=t.MAs(3),i=t.MAs(5);t.xp6(1),t.Q6J("ngIf",e.icon)("ngIfThen",n)("ngIfElse",i)}}function te(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,Vt,6,3,"span",2),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.getSideData())}}function ee(a,s){if(1&a){const e=t.EpF();t.ynx(0),t._UZ(1,"mat-divider")(2,"br"),t.TgZ(3,"app-entry-point",9),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setReactivity(l.url,i))}),t.qZA(),t._UZ(4,"br"),t.BQk()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i;t.xp6(3),t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",!0)}}function ne(a,s){if(1&a&&(t.TgZ(0,"span")(1,"mat-selection-list",1),t.YNc(2,te,2,1,"span",0),t.qZA(),t._UZ(3,"br")(4,"br"),t.YNc(5,ee,5,3,"ng-container",2),t._UZ(6,"br"),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("multiple",!1),t.xp6(1),t.Q6J("ngIf",e.isSideData()),t.xp6(3),t.Q6J("ngForOf",e.side_data.filters)}}let ae=(()=>{class a{constructor(e,n,i,o){this.http=e,this.aRoute=n,this.call=i,this.ds=o,this.size=new t.vpe,this.reactivityData=new Map,this.flexData=new Map,this.page=null,this.aRoute.queryParamMap.subscribe(l=>{this.page=l.get("page")})}ngOnInit(){this.http.get(this.call.my_url()+this.url).subscribe(e=>{this.side_data=e,console.log(`Python library version is ${this.side_data.library_version}`);try{this.side_data.tabs.forEach(n=>{throw void 0!==n.label?(this.page="page_0",this.ds.defaul_page="page_0"):void 0!==n.name&&(this.page="page_0_0",this.ds.defaul_page="page_0_0"),"break"})}catch{}this.size.emit(this.side_data.size)})}getSideData(){return this.side_data?.tabs}isSideData(){return this.side_data?.tabs.length>0}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(E.eN),t.Y36(D.gz),t.Y36(w),t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-sidebar"]],inputs:{url:"url"},outputs:{size:"size"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"multiple"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock2",""],["elseBlock2",""],[3,"selected"],["mat-list-item","","type","button",3,"routerLink","queryParams"],[3,"selected",4,"ngFor","ngForOf"],[3,"hidden","url","isSidebar","fx","rd"]],template:function(e,n){1&e&&t.YNc(0,ne,7,3,"span",0),2&e&&t.Q6J("ngIf",void 0!==n.side_data)},dependencies:[Zt.d,Y.ib,Y.yz,q.Hw,H.Hk,H.Tg,H.Ub,H.vS,g.sg,g.O5,D.yS,W],styles:[".mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.toolbar-item-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-container[_ngcontent-%COMP%]{height:90%;margin:0}.app-sidenav[_ngcontent-%COMP%]{width:230px}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}"]}),a})();function ie(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",1),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(27);return t.KtG(i.toggle())}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()()()}}let se=(()=>{class a{constructor(e,n,i,o,l,p,d,_,I,R){this.http=i,this.ds=o,this._snackBar=l,this.aRoute=p,this.call=d,this.titleService=_,this.clipboard=I,this.ws=R,this.durationInSeconds=5,this.mySize="500px",this.mySize2="500px",this.color="primary",this.checked=!1,this.mobileQuery=n.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}setTitle(){this.http.get(this.call.my_url()+"backend/title").subscribe(e=>{this.titleService.setTitle(e),this.title=e})}setGlobals(){this.ws.request_change();let e=this.ds.get_page();void 0===this.ds.data.global&&(this.ds.data.global={}),this.ds.data.global.page=e,this.color="primary"}sendWSRequest(){this.call.config.websocket.active&&this.ws.request_change()}trigger_load(){this._snackBar.openFromComponent(Z,{duration:5e3,panelClass:["full_width"],data:{message:"API called Sucessfully ",status:"loading"}})}ngOnInit(){this.call.pullConfiguration(),this.ds.data_setter.subscribe(e=>{this.color="warn"}),this.aRoute.queryParamMap.subscribe(e=>{this.setGlobals()}),this.trigger_load(),this.show_right_sidebar=this.call.config.show_right_sidebar,this.getScripts(),this.setTitle(),this.call.refresh_listener.subscribe(e=>{this.checked=!0,this.set_auto({checked:!0})})}refresh_data(){this.color="primary",this.call.config.websocket.active?this.ws.request_change():this.ds.refresh.emit("RefreshButton"),this.ds.save_default(),this._snackBar.openFromComponent(Z,{duration:1e3*this.durationInSeconds,data:{message:"Refreshing data",status:"success"}})}loadExternalScript(e,n,i,o,l,p){const d=document.head;if("javascript"===i){const _=document.createElement("script");_.id=this.ds.makeid(5),_.type="text/javascript",void 0!==e&&(_.src=e),void 0!==n&&(_.text=n),_.async=l,_.defer=p,d.appendChild(_)}if("link"===i){const _=document.createElement("link");_.id=this.ds.makeid(5),_.rel=o,_.href=e,d.appendChild(_)}}getScripts(){this.http.post(this.call.my_url()+"backend/scripts",this.ds.get_all()).subscribe(e=>{let n=e.scripts;for(let i of n)this.loadExternalScript(i.url,i.text,i.type,i.rel,i.async,i.defer)})}set_size(e,n){n?this.mySize2=e:this.mySize=e}saveReport(){this.document_id=this.ds.makeid(32);let e=new x;e.key="document_id",e.value=this.document_id,this.ds.data_setter.emit(e),this.refresh_data(),this.call.call_response(this.call.my_url()+"backend/document",void 0,void 0).subscribe(n=>{const i=new URL(window.location.href);i.searchParams.set("document_id",this.document_id),this.clipboard.copy(i.href),this._snackBar.openFromComponent(Z,{duration:1e3*this.durationInSeconds,data:{message:"Document URL copied",status:"success"}})},n=>{this._snackBar.openFromComponent(Z,{duration:1e3*this.durationInSeconds,data:{message:"Saving report failed",status:"error"}})})}call_refresh(e,n,i){console.log("call refresh"),e.config.websocket.active?i.request_change():n.refresh.emit("AutoRefresh")}set_auto(e){e.checked?this.runRefresh=setInterval(this.call_refresh,1e3*this.call.config.refresh.rate_in_seconds,this.call,this.ds,this.ws):clearInterval(this.runRefresh)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.sBO),t.Y36(Tt.vx),t.Y36(E.eN),t.Y36(f.D),t.Y36(N.ux),t.Y36(D.gz),t.Y36(w),t.Y36(y.Dx),t.Y36(dt.TU),t.Y36(St))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-root"]],decls:39,vars:14,consts:[["color","primary","layout","row"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayoutAlign","end end"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[3,"checked","change"],[1,"app-container"],[1,"app-sidenav",3,"mode"],["snav",""],[3,"url","size"],[1,"app-sidenav",3,"position","mode"],["snav2",""],["layout","row","ng-cloak",""],["layout","row",2,"width","100%","z-index","5"],["flex",""],[2,"float","right"],["mat-mini-fab","","aria-label","Example icon button with a filter list icon",1,"float",3,"color","click"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"mat-toolbar",0)(1,"button",1),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(23);return t.KtG(l.toggle())}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"div",2),t.YNc(7,ie,4,0,"span",3),t.TgZ(8,"button",4)(9,"mat-icon"),t._uU(10,"more_vert"),t.qZA()()(),t.TgZ(11,"mat-menu",null,5)(13,"button",6),t.NdJ("click",function(){return n.saveReport()}),t.TgZ(14,"mat-icon"),t._uU(15,"saved_search"),t.qZA(),t.TgZ(16,"span"),t._uU(17,"Save Report"),t.qZA()(),t.TgZ(18,"button",7)(19,"mat-slide-toggle",8),t.NdJ("change",function(l){return n.set_auto(l)}),t._uU(20," Auto Refresh "),t.qZA()()()(),t.TgZ(21,"mat-sidenav-container",9)(22,"mat-sidenav",10,11)(24,"mat-nav-list")(25,"app-sidebar",12),t.NdJ("size",function(l){return n.set_size(l,!1)}),t.qZA()()(),t.TgZ(26,"mat-sidenav",13,14)(28,"mat-nav-list")(29,"app-sidebar",12),t.NdJ("size",function(l){return n.set_size(l,!0)}),t.qZA()()(),t.TgZ(30,"mat-sidenav-content")(31,"div",15)(32,"div",16)(33,"div",17)(34,"div",18)(35,"button",19),t.NdJ("click",function(){return n.refresh_data()}),t.TgZ(36,"mat-icon"),t._uU(37,"refresh"),t.qZA()()()()()(),t._UZ(38,"router-outlet"),t.qZA()()}if(2&e){const i=t.MAs(12);t.xp6(5),t.Oqu(n.title),t.xp6(2),t.Q6J("ngIf",n.call.show_right_sidebar()),t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(11),t.Q6J("checked",n.checked),t.xp6(3),t.Udp("width",n.mySize),t.Q6J("mode","over"),t.xp6(3),t.Q6J("url","backend/sidebar"),t.xp6(1),t.Udp("width",n.mySize2),t.Q6J("position","end")("mode","over"),t.xp6(3),t.Q6J("url","backend/sidebar2"),t.xp6(6),t.Q6J("color",n.color)}},dependencies:[S.Wh,S.yH,L.lW,q.Hw,H.Hk,$.VK,$.OP,$.p6,nt.JX,nt.TM,nt.Rh,ut.Rr,wt.Ye,g.O5,D.lC,ae],styles:["[_nghost-%COMP%]{position:absolute;left:0;right:0;bottom:0;top:0}mat-sidenav-container[_ngcontent-%COMP%]{margin:0;min-height:100%;height:100%;width:100%;display:inline-block}.increase-size[_ngcontent-%COMP%]{width:200px}mat-sidenav[_ngcontent-%COMP%]{min-width:200px}.float[_ngcontent-%COMP%]{position:fixed;bottom:1rem;right:1rem;z-index:5}.app-container[_ngcontent-%COMP%]{height:90%;margin:0}.app-sidenav[_ngcontent-%COMP%]{width:230px}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.toolbar-item-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),a})(),oe=(()=>{class a{constructor(){}set_title(e,n,i){e.fragment.subscribe(o=>{null!==o?n.setTitle(o):i.get("/backend/title").subscribe(l=>{n.setTitle(l)})})}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var J=r(11997);function le(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-entry-point",5),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.setReactivity(l.url,i))}),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i,o,l,p,d;t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",!1)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"33%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"33%")("fxFlex.sm",(null==(p=n.flexData.get(e.url))?null:p.fxFlex_sm)||"50%")("fxFlex.xs",(null==(d=n.flexData.get(e.url))?null:d.fxFlex_sm)||"100%")}}function re(a,s){if(1&a&&(t.TgZ(0,"div",2)(1,"mat-card")(2,"mat-card-content")(3,"div",3),t.YNc(4,le,1,7,"app-entry-point",4),t.qZA()()()()),2&a){const e=s.$implicit;t.xp6(4),t.Q6J("ngForOf",e.data)}}function pe(a,s){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,re,5,1,"div",1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.page?null:e.page.rows)}}const ce=[{path:"**",component:(()=>{class a{constructor(e,n,i,o,l){this.http=e,this.titleService=n,this.aRoute=i,this.call=o,this.dataService=l,this.page=void 0,this.reactivityData=new Map,this.flexData=new Map}ngOnInit(){(new oe).set_title(this.aRoute,this.titleService,this.http),this.aRoute.queryParamMap.subscribe(e=>{let n=this.dataService.get_page(),i=(new E.LE).set("fragment",n);this.http.get(this.call.my_url()+"backend/page_detail",{params:i}).subscribe(o=>{this.page=o})})}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(E.eN),t.Y36(y.Dx),t.Y36(D.gz),t.Y36(w),t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-page"]],decls:1,vars:1,consts:[[4,"ngIf"],["style","padding: 10px",4,"ngFor","ngForOf"],[2,"padding","10px"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","row_data.layoutGap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","space-around stretch","fxFlexFill",""],["class","padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd",4,"ngFor","ngForOf"],[1,"padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd"]],template:function(e,n){1&e&&t.YNc(0,pe,2,1,"div",0),2&e&&t.Q6J("ngIf",n.page)},dependencies:[S.xw,S.SQ,S.Wh,S.s9,S.yH,J.a8,J.dn,g.sg,g.O5,W],styles:[".padding[_ngcontent-%COMP%]{padding:5px;margin-bottom:1em;min-width:100px}.max[_ngcontent-%COMP%]{max-height:200px}"]}),a})()}];let de=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[D.Bz.forRoot(ce,{relativeLinkResolution:"legacy"}),D.Bz]}),a})();var ue=r(25544),_e=r(38954),me=r(58698),he=r(27165),ge=r(18632),fe=r(76342),xe=r(59269),_t=r(9286),be=r(55211),mt=r(61637),Ce=r(65719),ve=r(56226),ht=r(50108),Dt=r(71561),ye=r(27084),Te=r(65429),U=r(83704),V=r(88696),tt=r(25237),et=r(39665),gt=r(53538),G=r(40827),kt=r(8697),ft=r(53556),at=r(18033),Jt=r(96219),it=r(56558),A=r(80418),xt=r(72516),At=r(2940),Se=r(18849),we=r(19596),m=r(20092),Ze=r(96100),Ot=r(40512);function Fe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-entry-point",5),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.setReactivity(l.url,i))}),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i,o,l,p,d;t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",!1)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"33%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"33%")("fxFlex.sm",(null==(p=n.flexData.get(e.url))?null:p.fxFlex_sm)||"50%")("fxFlex.xs",(null==(d=n.flexData.get(e.url))?null:d.fxFlex_sm)||"100%")}}function De(a,s){if(1&a&&(t.TgZ(0,"div",2)(1,"mat-card")(2,"mat-card-content")(3,"div",3),t.YNc(4,Fe,1,7,"app-entry-point",4),t.qZA()()()()),2&a){const e=s.$implicit;t.xp6(4),t.Q6J("ngForOf",e.data)}}function ke(a,s){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,De,5,1,"div",1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.page?null:e.page.rows)}}let Je=(()=>{class a{constructor(e,n,i,o,l,p){this.dialogRef=e,this.dialog_url=n,this.http=i,this.aRoute=o,this.call=l,this.dataService=p,this.page=void 0,this.reactivityData=new Map,this.flexData=new Map}ngOnInit(){let e;if(this.dialog_url.includes("http"))e=this.dialog_url;else{let i=this.call.my_url();"/"===this.dialog_url[0]&&(this.dialog_url=this.dialog_url.substring(1)),e=i+this.dialog_url}let n=this.dataService.get_all();this.http.post(e,n).subscribe(i=>{this.page=i})}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(V.so),t.Y36(V.WI),t.Y36(E.eN),t.Y36(D.gz),t.Y36(w),t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["style","padding: 10px",4,"ngFor","ngForOf"],[2,"padding","10px"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","row_data.layoutGap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","space-around stretch","fxFlexFill",""],["class","padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd",4,"ngFor","ngForOf"],[1,"padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd"]],template:function(e,n){1&e&&t.YNc(0,ke,2,1,"div",0),2&e&&t.Q6J("ngIf",n.page)},dependencies:[S.xw,S.SQ,S.Wh,S.s9,S.yH,J.a8,J.dn,g.sg,g.O5,W]}),a})();var Ae=r(8239);let Mt=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this.dialog=i,this.input_types=["date","checkbox","radio","simple_filter","simple_server_filter","group_filter","slider","button_toggle","toggle","input","download","upload","button","form"],this.subscription_lookup={},this.d=new Map,this.data_type=["box","table","chart","image","highchart","custom_html"],this.call_this=new t.vpe,this.call_api={},this.data_={},this.call_this.subscribe(o=>{this.getData(o.forced,o.url,o.look_up,o.page,o.isSidebar,"")})}get_multi_url(e){let n=[];switch(e.type){case"multi_list":case"multi_tabs":case"multi_expand":n=e.multi_data?.urls;break;default:n=[]}return n}set_name(e){let n="";switch(e.type){case"box":n=e.box_data?.name;break;case"date":n=e.date_data?.name;break;case"table":n=e.table_data?.name;break;case"chart":n=e.chart_data?.name;break;case"radio":n=e.radio_data?.name;break;case"checkbox":n=e.checkbox_data?.name;break;case"slider":n=e.slider_data?.name;break;case"button_toggle":case"toggle":n=e.button_toggle_data?.name;break;case"simple_filter":case"simple_server_filter":n=e.simple_filter_data?.name;break;case"group_filter":n=e.group_filter_data?.name;break;case"input":n=e.input_data?.name;break;case"custom_html":n=e.custom_html?.name;break;default:n=""}return n}updateData(e,n,i,o,l){this.saveData(e,n,i);let p=o?.reactive,d=o?.type,_=this.set_name(o);this.unsubscribe(l),this.subscribe(d,l,n,p,_,i,e),this.ds.all_input.set(l,o),this.ds.input_emitter.emit({calling:!1,lookup:l,t:o,message:void 0})}getData(e,n,i,o,l,p){var d=this;return(0,Ae.Z)(function*(){let _=d.ds.all_input.get(i);if(void 0!==_&&!e)return void d.ds.input_emitter.emit({calling:!1,lookup:i,t:_,message:void 0});if(d.input_types.includes(_?.type)&&"Reactive"!==p&&"SpecificReactive"!==p)return console.log("hi"),void d.ds.input_emitter.emit({calling:!1,lookup:i,t:_,message:void 0});void 0!==d.subscription_lookup[i]&&d.subscription_lookup[i].unsubscribe();let I=d.callService.call_response(n,void 0,void 0);return d.ds.input_emitter.emit({calling:!0,lookup:i,t:void 0,message:void 0}),d.ds.all_input.delete(i),d.subscription_lookup[i]=yield I.subscribe({next:R=>{d.updateData(l,n,o,R,i)},error:R=>{d.ds.input_emitter.emit({calling:!1,lookup:i,t:void 0,message:R.message})}}),{error:"not called"}})()}unsubscribe(e){this.d.get("refresh_"+e)?.unsubscribe(),this.d.get("reactive_"+e)?.unsubscribe(),this.d.get("specific_reactive_"+e)?.unsubscribe()}callGetData(e,n,i,o,l){if(this.ds.get_page()===i){let d=!1;if("PageRefresh"===o)d=!0;else if("RefreshButton"===o)d=!0;else if("AutoRefresh"===o)d=!0;else if("Reactive"===o)d=!0;else{if("SpecificReactive"!==o)return;d=!0}this.getData(d,n,e,i,l,o)}}subscribe(e,n,i,o,l,p,d){this.data_type.indexOf(e)>=0&&this.d.set("refresh_"+n,this.ds.refresh.subscribe(_=>{this.callGetData(n,i,p,_,d)})),o.full_reactive?this.d.set("reactive_"+n,this.ds.data_setter.subscribe(_=>{_.key!==l&&this.callGetData(n,i,p,"Reactive",d)})):o.reactive_ids.length>0&&this.d.set("specific_reactive_"+n,this.ds.data_setter.subscribe(_=>{o.reactive_ids.indexOf(_.key)>=0&&this.callGetData(n,i,p,"SpecificReactive",d)}))}lookup(e,n){let i="";return i=e?"sidebar":this.ds.get_page(),this.ds.input_lookup(i,n)}needToPull(e,n,i){let o=this.lookup(e,n),l=!1,p=this.data_[o],d={global:this.ds.data.global,page:this.ds.data[i]};try{delete d.page[o],0===Object.keys(d.page).length&&delete d.page}catch{}let _=JSON.stringify(d);return null!==p?_!==p&&(l=!0):l=!0,l}saveData(e,n,i){let o=this.lookup(e,n),l={global:this.ds.data.global,page:this.ds.data[i]};try{delete l.page[o],0===Object.keys(l.page).length&&delete l.page}catch{}let p=JSON.stringify(l);this.data_[o]=p}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(f.D),t.LFG(w),t.LFG(V.uw))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Oe=(()=>{class a{constructor(e){this.ds=e}ngOnDestroy(){}ngOnInit(){}getIcon(){return this.ds.all_input.get(this.url)?.box_data?.icon}getValue(){return this.ds.all_input.get(this.url)?.box_data?.value}getName(){return this.ds.all_input.get(this.url)?.box_data?.name}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-box"]],inputs:{url:"url"},decls:10,vars:9,consts:[["cols","2","rowHeight","3:1"],[3,"colspan","rowspan"],[1,"material-symbols-outlined"],[2,"font-size","30px","text-align","right"],[2,"font-size","12px","text-align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"span",2),t._uU(3),t.qZA()(),t.TgZ(4,"mat-grid-tile",1)(5,"div",3),t._uU(6),t.qZA()(),t.TgZ(7,"mat-grid-tile",1)(8,"div",4),t._uU(9),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("colspan",1)("rowspan",2),t.xp6(2),t.hij(" ",n.getIcon()," "),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(2),t.hij(" ",n.getValue()," "),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(2),t.hij(" ",n.getName()," "))},dependencies:[tt.Il,tt.DX],styles:[".material-symbols-outlined[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px;line-height:50px}"]}),a})();var b=r(88659);function Me(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",3)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-date-range-input",4)(5,"input",5),t.NdJ("dateChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.changeValue(i))}),t.qZA(),t.TgZ(6,"input",6),t.NdJ("dateChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.changeValue(i))}),t.qZA()(),t.TgZ(7,"mat-hint"),t._uU(8,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(9,"mat-datepicker-toggle",7)(10,"mat-date-range-picker",null,8),t.qZA()()}if(2&a){const e=t.MAs(11),n=t.oxw();t.xp6(3),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("formGroup",n.getForm())("rangePicker",e)("comparisonStart",n.form_data.value.start)("comparisonEnd",n.form_data.value.end),t.xp6(5),t.Q6J("for",e)}}function Ie(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",9)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",10),t.NdJ("dateChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.changeValue(i))}),t.qZA(),t.TgZ(5,"mat-hint"),t._uU(6,"MM/DD/YYYY"),t.qZA(),t._UZ(7,"mat-datepicker-toggle",7)(8,"mat-datepicker",null,11),t.qZA()()}if(2&a){const e=t.MAs(9),n=t.oxw();t.xp6(3),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("matDatepicker",e)("formControl",n.form_control),t.xp6(3),t.Q6J("for",e)}}let Qe=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.getData()}getData(){this.data=this.ds.all_input.get(this.url)?.date_data,this.data.second_date?(this.single=!1,this.form_data=new m.nJ({start:new m.p4(new Date(this.data.first_date+"T00:00:00")),end:new m.p4(new Date(this.data.second_date+"T00:00:00"))})):(this.single=!0,this.form_control=new m.p4(new Date(this.data.first_date+"T00:00:00")))}getForm(){return this.form_data}isSingle(){return this.single}getLabel(){return this.data.name}changeValue(e){let n=new x,i=!0;n.key=this.data.name,n.url=this.url,n.page=this.ds.dataLookup(this.isSidebar),this.single?(n.value=this.form_control.value.toISOString().substring(0,10),n.page=this.ds.dataLookup(this.isSidebar)):this.form_data.value.end&&this.form_data.value.start?n.value=[this.form_data.value.start.toISOString().substring(0,10),this.form_data.value.end.toISOString().substring(0,10)]:i=!1,i&&this.ds.data_setter.emit(n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-datetime"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:5,vars:4,consts:[["cols","4","rowHeight","1:1"],["tile","",3,"colspan","rowspan"],[4,"ngIf"],["appearance","standard","floatLabel","always",1,"example-form-field"],[3,"formGroup","rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder","Start date","formControlName","start",3,"dateChange"],["matEndDate","","placeholder","End date","formControlName","end",3,"dateChange"],["matSuffix","",3,"for"],["campaignOnePicker",""],["appearance","standard","floatLabel","always"],["matInput","",3,"matDatepicker","formControl","dateChange"],["dp",""]],template:function(e,n){1&e&&(t.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1),t.YNc(2,Me,12,6,"div",2),t.YNc(3,Ie,10,4,"div",2),t._UZ(4,"br"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("colspan",4)("rowspan",1),t.xp6(1),t.Q6J("ngIf",!n.isSingle()),t.xp6(1),t.Q6J("ngIf",n.isSingle()))},dependencies:[m.Fj,m.JJ,m.JL,m.oH,m.sg,m.u,U.Mq,U.hl,U.nW,U.wx,U.zY,U.By,U._g,tt.Il,tt.DX,b.KE,b.bx,b.hX,b.R9,et.Nt,g.O5]}),a})();var Pe=r(95834);function Ye(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.value="")}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function Ue(a,s){if(1&a&&(t.TgZ(0,"mat-header-cell",18),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.header)}}function Ne(a,s){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=s.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(e[n.columnDef])}}function Ee(a,s){1&a&&(t.ynx(0,15),t.YNc(1,Ue,2,1,"mat-header-cell",16),t.YNc(2,Ne,2,1,"mat-cell",17),t.BQk()),2&a&&t.Q6J("matColumnDef",s.$implicit.columnDef)}function Le(a,s){1&a&&t._UZ(0,"mat-header-row")}function Re(a,s){1&a&&t._UZ(0,"mat-row")}function qe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.download())}),t._uU(3,"Download"),t.qZA()(),t.TgZ(4,"div",22),t._UZ(5,"mat-paginator",23),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(5),t.Q6J("pageSizeOptions",e.items_per_page_options)("pageSize",e.items_per_page)}}function He(a,s){if(1&a&&(t.TgZ(0,"div"),t._UZ(1,"mat-paginator",23),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("pageSizeOptions",e.items_per_page_options)("pageSize",e.items_per_page)}}let Ge=(()=>{class a{constructor(e){this.dataService=e,this.selection=new Pe.Ov(!0,[]),this.displayedColumns=[]}ngOnInit(){this.columns=this.dataService.all_input.get(this.url)?.table_data?.columns,this.dataSource=new A.by(this.dataService.all_input.get(this.url)?.table_data?.data),this.allow_download=this.dataService.all_input.get(this.url)?.table_data?.allow_download,this.items_per_page=this.dataService.all_input.get(this.url)?.table_data?.items_per_page,this.items_per_page_options=this.dataService.all_input.get(this.url)?.table_data?.items_per_page_options,this.displayedColumns=this.displayedColumns.concat(this.columns.map(e=>e.columnDef))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}download(){let e="",n=[];for(let _=0;_<this.columns.length;_++)e+=this.columns[_].header+",",n.push(this.columns[_].columnDef),e=e.replace(/\n/g,"");e=e.substring(0,e.length-1)+"\n";const i=this.dataService.all_input.get(this.url)?.table_data?.data;for(let _=0;_<i.length;_++){for(let I=0;I<n.length;I++)e+=i[_][n[I]]+",";e=e.substring(0,e.length-1)+"\n"}e=e.substring(0,e.length-1)+"\n";const o=document.createElement("a"),d="download_file".concat(".csv");o.href="data:text/csv;charset=utf-8,"+encodeURI("\ufeff"+e),o.target="_blank",o.download=d,o.click()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-table"]],viewQuery:function(e,n){if(1&e&&(t.Gf(gt.NW,5),t.Gf(it.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first),t.iGM(i=t.CRH())&&(n.sort=i.first)}},inputs:{url:"url"},decls:18,vars:8,consts:[[1,"table-actionbar"],[1,"search-box"],["appearance","outline",1,"example-form-field"],["matPrefix",""],["matInput","","type","text",3,"ngModel","ngModelChange","keyup"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","",3,"dataSource"],["table",""],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["style","display: flex; flex-wrap: wrap;",4,"ngIf"],[4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"matColumnDef"],["mat-sort-header","",4,"cdkHeaderCellDef"],[4,"cdkCellDef"],["mat-sort-header",""],[2,"display","flex","flex-wrap","wrap"],[2,"width","15%","padding","1%","margin","2px"],["mat-raised-button","","color","primary",3,"click"],[2,"width","80%","padding","1%","margin","1px"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-icon",3),t._uU(4,"search"),t.qZA(),t.TgZ(5,"mat-label"),t._uU(6,"Search"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(o){return n.value=o})("keyup",function(o){return n.applyFilter(o)}),t.qZA(),t.YNc(8,Ye,3,0,"button",5),t.qZA()()(),t.TgZ(9,"div",6)(10,"mat-table",7,8),t.YNc(12,Ee,3,1,"ng-container",9),t.YNc(13,Le,1,0,"mat-header-row",10),t.YNc(14,Re,1,0,"mat-row",11),t.qZA(),t.TgZ(15,"div"),t.YNc(16,qe,6,2,"div",12),t.YNc(17,He,2,2,"div",13),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.value),t.xp6(1),t.Q6J("ngIf",n.value),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(2),t.Q6J("ngForOf",n.columns),t.xp6(1),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("ngIf",n.allow_download),t.xp6(1),t.Q6J("ngIf",!n.allow_download))},dependencies:[m.Fj,m.JJ,m.On,_t.O_,_t.D5,L.lW,q.Hw,b.KE,b.hX,b.qo,b.R9,et.Nt,gt.NW,it.YE,it.nU,A.BZ,A.as,A.w1,A.nj,A.ge,A.ev,A.XQ,A.Gk,g.sg,g.O5],styles:['.search-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.table-responsive[_ngcontent-%COMP%]{display:block;overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0}.table-responsive[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:table-row}.table-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 5px;line-break:unset;width:auto;white-space:nowrap;overflow:hidden;vertical-align:middle}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 700,"GRAD" 200,"opsz" 48}']}),a})(),je=(()=>{class a{constructor(e){this.dataService=e}ngOnInit(){}get_options(){return this.dataService.all_input.get(this.url)?.chart_data?.data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-plot"]],inputs:{url:"url"},decls:1,vars:1,consts:[["echarts","",1,"demo-chart",3,"options"]],template:function(e,n){1&e&&t._UZ(0,"div",0),2&e&&t.Q6J("options",n.get_options())},dependencies:[Ot._w]}),a})();function Be(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",4),t.NdJ("ngModelChange",function(i){const l=t.CHM(e).$implicit;return t.KtG(l.selected=i)})("ngModelChange",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.update())}),t._uU(2),t.qZA()()}if(2&a){const e=s.$implicit;t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.hij(" ",e.name," ")}}function ze(a,s){if(1&a&&(t.TgZ(0,"section",2),t.YNc(1,Be,3,2,"div",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.my_data())}}function Ke(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",5),t.NdJ("ngModelChange",function(i){const l=t.CHM(e).$implicit;return t.KtG(l.selected=i)})("ngModelChange",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.update())}),t._uU(2),t.qZA()()}if(2&a){const e=s.$implicit;t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.hij(" ",e.name," ")}}function Xe(a,s){if(1&a&&(t.TgZ(0,"section")(1,"ul"),t.YNc(2,Ke,3,2,"li",3),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.my_data())}}let $e=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.getData()}getData(){return this.ds.all_input.get(this.url)?.checkbox_data}update(){let e=new x;e.page=this.ds.dataLookup(this.isSidebar),e.url=this.url,e.key=this.getData().name,e.value=this.getData().data,this.ds.data_setter.emit(e)}get_style(){return this.getData().style}my_data(){return this.getData().data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-checkbox"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:2,consts:[["class","example-section",4,"ngIf"],[4,"ngIf"],[1,"example-section"],[4,"ngFor","ngForOf"],[1,"example-margin",3,"ngModel","ngModelChange"],[1,"example-margin-top",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.YNc(0,ze,2,1,"section",0),t.YNc(1,Xe,3,1,"section",1)),2&e&&(t.Q6J("ngIf","Horizontal"===n.get_style()),t.xp6(1),t.Q6J("ngIf","Vertical"===n.get_style()))},dependencies:[m.JJ,m.On,Dt.oG,g.sg,g.O5],styles:[".example-margin[_ngcontent-%COMP%]{margin-left:10px}.example-margin-top[_ngcontent-%COMP%]{margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}"]}),a})();function We(a,s){if(1&a&&(t.TgZ(0,"mat-radio-button",5),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ve(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"section",2)(1,"mat-radio-group",3),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.selected=i)})("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.update())}),t.YNc(2,We,2,2,"mat-radio-button",4),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.Q6J("ngForOf",e.getData())}}function tn(a,s){if(1&a&&(t.TgZ(0,"li")(1,"mat-radio-button",7),t._uU(2),t.qZA()()),2&a){const e=s.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function en(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"section")(1,"mat-radio-group",3),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.selected=i)})("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.update())}),t.TgZ(2,"ul"),t.YNc(3,tn,3,2,"li",6),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(2),t.Q6J("ngForOf",e.getData())}}let nn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.selected=this.ds.all_input.get(this.url)?.radio_data?.selected}getStyle(){return this.ds.all_input.get(this.url)?.radio_data?.style}update(){let e=new x;e.page=this.ds.dataLookup(this.isSidebar),e.key=this.ds.all_input.get(this.url)?.radio_data?.name,e.value=this.selected,e.url=this.url,this.ds.data_setter.emit(e)}getData(){return this.ds.all_input.get(this.url)?.radio_data?.data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-radio"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:2,consts:[["class","example-section",4,"ngIf"],[4,"ngIf"],[1,"example-section"],[3,"ngModel","ngModelChange","change"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],[4,"ngFor","ngForOf"],[1,"example-radio-button-bottom",3,"value"]],template:function(e,n){1&e&&(t.YNc(0,Ve,3,2,"section",0),t.YNc(1,en,4,2,"section",1)),2&e&&(t.Q6J("ngIf","Horizontal"===n.getStyle()),t.xp6(1),t.Q6J("ngIf","Vertical"===n.getStyle()))},dependencies:[m.JJ,m.On,ft.VQ,ft.U0,g.sg,g.O5],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.example-radio-button-bottom[_ngcontent-%COMP%]{margin-bottom:5px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),a})(),an=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.value=this.ds.all_input.get(this.url)?.slider_data?.value}isInverted(){return this.ds.all_input.get(this.url)?.slider_data?.invert}isMax(){return this.ds.all_input.get(this.url)?.slider_data?.max}isMin(){return this.ds.all_input.get(this.url)?.slider_data?.min}step(){return this.ds.all_input.get(this.url)?.slider_data?.step}isThumbLabel(){return this.ds.all_input.get(this.url)?.slider_data?.thumbLabel}isVertical(){return this.ds.all_input.get(this.url)?.slider_data?.vertical}detectChange(){let e=new x;e.page=this.ds.dataLookup(this.isSidebar),e.key=this.ds.all_input.get(this.url)?.slider_data?.name,e.value=this.value,e.url=this.url,this.ds.data_setter.emit(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-slider"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:1,vars:7,consts:[["aria-labelledby","example-name-label",1,"example-margin",3,"invert","max","min","step","thumbLabel","ngModel","vertical","ngModelChange","change"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-slider",0),t.NdJ("ngModelChange",function(o){return n.value=o})("change",function(){return n.detectChange()}),t.qZA()),2&e&&t.Q6J("invert",n.isInverted())("max",n.isMax())("min",n.isMin())("step",n.step())("thumbLabel",n.isThumbLabel())("ngModel",n.value)("vertical",n.isVertical())},dependencies:[m.JJ,m.On,Jt.pH],styles:[".mat-slider-horizontal[_ngcontent-%COMP%]{width:300px}.mat-slider-vertical[_ngcontent-%COMP%]{height:150px}"]}),a})();function sn(a,s){if(1&a&&(t.TgZ(0,"mat-button-toggle",2),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name,"")}}let on=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){this.selected_data=this.isMultiple()?[]:""}updateData(e){let n=new x;if(n.page=this.ds.dataLookup(this.isSidebar),n.key=this.ds.all_input.get(this.url)?.button_toggle_data?.name,n.value=e,n.url=this.url,this.ds.data_setter.emit(n),"string"==this.ds.trueTypeOf(e))for(let i of this.get_buton_data())i.selected=i.name===e;else if("array"==this.ds.trueTypeOf(e))for(let i of this.get_buton_data())i.selected=-1!=e.indexOf(i.name)}onChange(e){this.updateData(e.value)}isMultiple(){return this.ds.all_input.get(this.url)?.button_toggle_data?.multi}get_buton_data(){return this.ds.all_input.get(this.url)?.button_toggle_data?.data}get_value(){if(this.ds.all_input.get(this.url)?.button_toggle_data?.data){let e=[];for(let n of this.get_buton_data())n.selected&&(this.isMultiple()?e.push(n.name):this.selected_data=n.name);e.length>0&&(this.selected_data=e)}return this.selected_data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-button-toggle"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:3,consts:[[3,"value","multiple","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-button-toggle-group",0),t.NdJ("change",function(o){return n.onChange(o)}),t.YNc(1,sn,2,2,"mat-button-toggle",1),t.qZA()),2&e&&(t.Q6J("value",n.get_value())("multiple",n.isMultiple()),t.xp6(1),t.Q6J("ngForOf",n.get_buton_data()))},dependencies:[ht.A9,ht.Yi,g.sg]}),a})(),ln=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){}checkData(){return this.ds.all_input.get(this.url)?.toggle_data?.checked}saveData(e){this.update(e.checked)}update(e){let n=new x;n.key=this.ds.all_input.get(this.url)?.toggle_data?.name,n.value=e,n.url=this.url,n.page=this.ds.dataLookup(this.isSidebar),this.ds.data_setter.emit(n)}get_name(){return this.ds.all_input.get(this.url)?.toggle_data?.name}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-toggle"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:2,vars:2,consts:[[3,"checked","change"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-slide-toggle",0),t.NdJ("change",function(o){return n.saveData(o)}),t._uU(1),t.qZA()),2&e&&(t.Q6J("checked",n.checkData()),t.xp6(1),t.Oqu(n.get_name()))},dependencies:[ut.Rr]}),a})();var bt=r(5557),Ct=r(38023),It=r(65598),j=r(13528),st=r(64325);const rn=["dataSelect"];function pn(a,s){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let cn=(()=>{class a{constructor(e){this.ds=e,this.dataForm=new m.p4,this.compareFn=(n,i)=>n&&i&&n.id===i.id,this.data_select_control=new m.p4,this.data_search_control=new m.p4,this.data_search=new bt.t(1),this.searching=!1,this._onDestroy=new Ct.x}ngOnInit(){this.originalData(),this.searchData()}ngAfterViewInit(){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}setInitialValue(){this.data_search.pipe((0,It.q)(1),(0,j.R)(this._onDestroy)).subscribe(()=>{this.dataSelect.compareWith=(e,n)=>e===n})}filterMulti(){if(!this.data)return;let e=this.data_search_control.value;e?(e=e.toLowerCase(),this.data_search.next(this.data.filter(n=>n.toLowerCase().indexOf(e)>-1))):this.data_search.next(this.data.slice())}selectedData(){return this.ds.all_input.get(this.url)?.simple_filter_data?.selected}isMulti(){return this.ds.all_input.get(this.url)?.simple_filter_data?.multi}originalData(){this.data=this.ds.all_input.get(this.url)?.simple_filter_data?.data,void 0!==this.selectedData()&&this.selectedData().length>0&&(this.isMulti()?this.data_select_control.setValue(this.selectedData()):this.data_select_control.setValue(this.selectedData()[0])),this.data_search.next(this.data.slice())}searchData(){this.data_search_control.valueChanges.pipe((0,j.R)(this._onDestroy)).subscribe(()=>{this.filterMulti()}),this.setInitialValue()}getLabel(){return this.ds.all_input.get(this.url)?.simple_filter_data?.name}detectChange(e){let n=new x;n.key=this.ds.all_input.get(this.url)?.simple_filter_data?.name,n.value=e.value,n.page=this.ds.dataLookup(this.isSidebar),n.url=this.url,this.ds.data_setter.emit(n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-simple-filter"]],viewQuery:function(e,n){if(1&e&&t.Gf(rn,7),2&e){let i;t.iGM(i=t.CRH())&&(n.dataSelect=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},decls:9,vars:7,consts:[["appearance","fill"],["placeholder","getLabel()",3,"formControl","multiple","selectionChange"],["dataSelect",""],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",1,2),t.NdJ("selectionChange",function(o){return n.detectChange(o)}),t.TgZ(5,"mat-option"),t._UZ(6,"ngx-mat-select-search",3),t.qZA(),t.YNc(7,pn,2,2,"mat-option",4),t.ALo(8,"async"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("formControl",n.data_select_control)("multiple",n.isMulti()),t.xp6(3),t.Q6J("formControl",n.data_search_control),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,5,n.data_search)))},dependencies:[m.JJ,m.oH,T.ey,b.KE,b.hX,at.gD,g.sg,st.nu,g.Ov]}),a})();const dn=["dataSelect"];function un(a,s){if(1&a&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function _n(a,s){if(1&a&&(t.TgZ(0,"mat-optgroup",5),t.YNc(1,un,2,2,"mat-option",6),t.qZA()),2&a){const e=s.$implicit;t.Q6J("label",e.group_name),t.xp6(1),t.Q6J("ngForOf",e.group_data)}}let mn=(()=>{class a{constructor(e){this.ds=e,this.dataForm=new m.p4,this.data_select_control=new m.p4,this.data_search_control=new m.p4,this.data_search=new bt.t(1),this._onDestroy=new Ct.x}ngOnInit(){this.myData()}ngAfterViewInit(){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}setInitialValue(){this.data_search.pipe((0,It.q)(1),(0,j.R)(this._onDestroy)).subscribe(()=>{this.dataSelect.compareWith=(e,n)=>e===n})}filterMulti(){if(!this.group_data)return;let e=this.data_search_control.value;const n=this.copyGroups(this.group_data);e?(e=e.toLowerCase(),this.data_search.next(n.filter(i=>(i.group_name.toLowerCase().indexOf(e)>-1||(i.group_data=i.group_data.filter(l=>l.toLowerCase().indexOf(e)>-1)),i.group_data.length>0)))):this.data_search.next(this.group_data.slice())}myData(){this.data=this.ds.all_input.get(this.url)?.group_filter_data,this.multi=this.ds.all_input.get(this.url)?.group_filter_data?.multi,this.group_data=this.data.data;let e=this.ds.all_input.get(this.url)?.group_filter_data?.selected;void 0!==e&&e.length>0&&(this.isMulti()?this.data_select_control.setValue(e):this.data_select_control.setValue(e[0])),this.data_search.next(this.group_data.slice()),this.data_search_control.valueChanges.pipe((0,j.R)(this._onDestroy)).subscribe(()=>{this.filterMulti()}),this.setInitialValue()}getLabel(){return this.ds.all_input.get(this.url)?.group_filter_data?.name}detectChange(e){let n=new x;n.key=this.ds.all_input.get(this.url)?.group_filter_data?.name,n.value=e.value,n.page=this.ds.dataLookup(this.isSidebar),n.url=this.url,this.ds.data_setter.emit(n)}isMulti(){return this.ds.all_input.get(this.url)?.group_filter_data?.multi}copyGroups(e){let n=[];return e.forEach(i=>{n.push({group_name:i.group_name,group_data:i.group_data.slice()})}),n}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-group-filter"]],viewQuery:function(e,n){if(1&e&&t.Gf(dn,7),2&e){let i;t.iGM(i=t.CRH())&&(n.dataSelect=i.first)}},inputs:{url:"url",isSidebar:"isSidebar"},decls:9,vars:7,consts:[["appearance","fill"],["placeholder","getLabel()",3,"formControl","multiple","selectionChange"],["dataSelect",""],[3,"formControl"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",1,2),t.NdJ("selectionChange",function(o){return n.detectChange(o)}),t.TgZ(5,"mat-option"),t._UZ(6,"ngx-mat-select-search",3),t.qZA(),t.YNc(7,_n,2,2,"mat-optgroup",4),t.ALo(8,"async"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.getLabel()),t.xp6(1),t.Q6J("formControl",n.data_select_control)("multiple",n.multi),t.xp6(3),t.Q6J("formControl",n.data_search_control),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,5,n.data_search)))},dependencies:[m.JJ,m.oH,T.ey,T.Nv,b.KE,b.hX,at.gD,g.sg,st.nu,g.Ov]}),a})();function hn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.clearData())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}let gn=(()=>{class a{constructor(e){this.ds=e}ngOnInit(){let e=this.ds.all_input.get(this.url)?.input_data?.value;void 0!==e&&(this.data=e)}getValue(){return this.ds.all_input.get(this.url)?.input_data?.value}getLabel(){return this.ds.all_input.get(this.url)?.input_data?.label?"":this.ds.all_input.get(this.url)?.input_data?.label}saveData(){let e=new x;e.key=this.ds.all_input.get(this.url)?.input_data?.name,e.value=this.data,e.page=this.ds.dataLookup(this.isSidebar),e.url=this.url,this.ds.data_setter.emit(e)}clearData(){this.data="";let e=new x;e.key=this.ds.all_input.get(this.url)?.input_data?.name,e.value=this.data,e.page=this.ds.dataLookup(this.isSidebar),this.ds.data_setter.emit(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-input"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:5,vars:3,consts:[["appearance","fill",1,"example-form-field"],["matInput","","type","text",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",1),t.NdJ("ngModelChange",function(o){return n.data=o})("ngModelChange",function(){return n.saveData()}),t.qZA(),t.YNc(4,hn,3,0,"button",2),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",n.getLabel(),""),t.xp6(1),t.Q6J("ngModel",n.data),t.xp6(1),t.Q6J("ngIf",n.data))},dependencies:[m.Fj,m.JJ,m.On,L.lW,q.Hw,b.KE,b.hX,b.R9,et.Nt,g.O5]}),a})();var Qt=r(33441);function fn(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",2),t.qZA())}let xn=(()=>{class a{constructor(e,n,i,o){this.ds=e,this.fileSaverService=n,this.callService=i,this._snackBar=o,this.show=!1}getFileName(e){let n=/filename\*=UTF-8''([\w%\-\.]+)(?:; ?|$)/i,i=/^filename=(["']?)(.*?[^\\])\1(?:; ?|$)/i,o=null;if(n.test(e)){let l=n.exec(e);o=decodeURIComponent(l[1])}else{const l=e.toLowerCase().indexOf("filename=");if(l>=0){const p=e.slice(l),d=i.exec(p);null!=d&&d[2]&&(o=d[2])}}return o}onSave(){this.show=!0,void 0!==this.downloadCall&&this.downloadCall.unsubscribe();let e=this.callService.call_response(this.data?.url,{responseType:"blob",observe:"response"},void 0);this.downloadCall=e.subscribe(n=>{let i=new x;i.page=this.ds.dataLookup(!1),i.key=this.ds.all_input.get(this.url)?.download_data?.name,i.value=this.ds.makeid(2),i.url=this.url,this.ds.data_setter.emit(i);let o=n.headers.get("content-disposition"),l=this.getFileName(o);this.fileSaverService.save(n.body,l),this.show=!1},n=>{this.show=!1,this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"Failed download",status:"error"}})})}ngOnInit(){this.data=this.ds.get_input_data(this.url)?.download_data}fileLabel(){return this.data?.label}onSuc(e){}onErr(e){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(Qt.m9),t.Y36(w),t.Y36(N.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-download"]],inputs:{url:"url"},decls:3,vars:2,consts:[["mat-raised-button","","color","primary",3,"click","success","error"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.onSave()})("success",function(o){return n.onSuc(o)})("error",function(o){return n.onErr(o)}),t._uU(1),t.qZA(),t.YNc(2,fn,5,0,"span",1)),2&e&&(t.xp6(1),t.hij(" Download ",n.fileLabel(),"\n"),t.xp6(1),t.Q6J("ngIf",n.show))},dependencies:[L.lW,G.pW,g.O5]}),a})();function bn(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",2),t.qZA())}let Cn=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this._snackBar=i,this.myFiles=[],this.show=!1}ngOnInit(){this.data=this.ds.all_input.get(this.url)?.upload_data}getMultiple(){return this.data?.multi}saveData(e){this.show=!0;for(var n=0;n<e.target.files.length;n++)this.myFiles.push(e.target.files[n]);const i=new FormData;for(n=0;n<this.myFiles.length;n++)i.append("files",this.myFiles[n]);void 0!==this.uploadCall&&this.uploadCall.unsubscribe();let o=this.callService.call_response(this.data?.url,void 0,i);this.uploadCall=o.subscribe(l=>{this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"Sucessfully Uploaded file",status:"success"}});let p=new x;p.page=this.ds.dataLookup(!1),p.key=this.ds.all_input.get(this.url)?.upload_data?.name,p.value=this.ds.makeid(2),p.url=this.url,this.ds.data_setter.emit(p),this.myFiles=[],this.show=!1},l=>{this.show=!1,this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"Failed Uploaded file",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(w),t.Y36(N.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-upload"]],inputs:{url:"url"},decls:2,vars:2,consts:[["type","file",1,"file-upload",3,"multiple","change"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"input",0),t.NdJ("change",function(o){return n.saveData(o)}),t.qZA(),t.YNc(1,bn,5,0,"span",1)),2&e&&(t.Q6J("multiple",n.getMultiple()),t.xp6(1),t.Q6J("ngIf",n.show))},dependencies:[G.pW,g.O5]}),a})(),vn=(()=>{class a{constructor(e,n,i){this.dataService=e,this.sanitizer=n,this.callService=i}get_data(){this.data=this.dataService.get_input_data(this.url)?.image_data}get_image(){this.height=this.data.height,this.width=this.data.width,void 0!==this.imageCall&&this.imageCall.unsubscribe();let e=this.callService.call_response(this.data.url,{responseType:"blob",observe:"response"},void 0);this.imageCall=e.subscribe(n=>{this.image=n.body,null!==this.image&&(this.imageURL=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.image)))})}ngOnInit(){this.get_data(),this.get_image()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(y.H7),t.Y36(w))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-image"]],inputs:{url:"url"},decls:2,vars:5,consts:[["mat-card-sm-image","",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"span"),t._UZ(1,"img",0),t.qZA()),2&e&&(t.xp6(1),t.Udp("height",n.height)("width",n.width),t.Q6J("src",n.imageURL,t.LSH))},dependencies:[J.vP]}),a})();var yn=r(63156),Tn=r(74970),Pt=r(98168),Yt=r(83151),Sn=r(27969);function wn(a,s){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let Zn=(()=>{class a{constructor(e,n){this.ds=e,this.callService=n,this.multi=!1,this.compareFn=(i,o)=>i&&o&&i.id===o.id,this.items=[],this.ServerSideCtrl=new m.p4,this.ServerSideFilteringCtrl=new m.p4,this.searching=!1,this.filteredServerSideBanks=new bt.t(1),this._onDestroy=new Ct.x}ngOnInit(){this.originalData(),this.ServerSideFilteringCtrl.valueChanges.pipe((0,Tn.h)(e=>!!e),(0,Pt.b)(()=>this.searching=!0),(0,j.R)(this._onDestroy),(0,Yt.b)(200),(0,Sn.U)(e=>this.items&&e?e:[]),(0,j.R)(this._onDestroy)).subscribe(e=>{this.pullData(e).subscribe(i=>{this.searching=!1;let p,o=this.ServerSideCtrl.value,l=i.simple_fitler_data;p=null!==o?l.concat(o):l,this.filteredServerSideBanks.next(p)},i=>{this.searching=!1})})}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}selectedData(){return this.ds.all_input.get(this.url)?.simple_server_filter_data?.selected}isMulti(){return this.ds.all_input.get(this.url)?.simple_server_filter_data?.multi}originalData(){let e=this.ds.all_input.get(this.url)?.simple_server_filter_data?.data;e=e.concat(this.selectedData()),this.data=[...new Set(e)],this.name=this.ds.all_input.get(this.url)?.simple_server_filter_data?.name,this.server_url=this.ds.all_input.get(this.url)?.simple_server_filter_data?.url,void 0!==this.selectedData()&&this.selectedData().length>0&&(this.isMulti()?this.ServerSideCtrl.setValue(this.selectedData()):this.ServerSideCtrl.setValue(this.selectedData()[0])),this.filteredServerSideBanks.next(this.data.slice())}pullData(e){return this.callService.second_call_response(this.server_url,this.name,e)}detectChange(e){let n=new x;n.key=this.ds.all_input.get(this.url)?.simple_server_filter_data?.name,n.value=e.value,n.page=this.ds.dataLookup(this.isSidebar),n.url=this.url,this.ds.data_setter.emit(n)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(w))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-simple-server-filter"]],inputs:{url:"url",isSidebar:"isSidebar"},decls:7,vars:7,consts:[["appearance","fill"],[3,"formControl","multiple","selectionChange"],["dataSelect",""],[3,"formControl","searching"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-select",1,2),t.NdJ("selectionChange",function(o){return n.detectChange(o)}),t.TgZ(3,"mat-option"),t._UZ(4,"ngx-mat-select-search",3),t.qZA(),t.YNc(5,wn,2,2,"mat-option",4),t.ALo(6,"async"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formControl",n.ServerSideCtrl)("multiple",n.isMulti()),t.xp6(3),t.Q6J("formControl",n.ServerSideFilteringCtrl)("searching",n.searching),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,5,n.filteredServerSideBanks)))},dependencies:[m.JJ,m.oH,T.ey,b.KE,at.gD,g.sg,st.nu,g.Ov]}),a})(),Fn=(()=>{class a{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(y.H7,16))},a.\u0275pipe=t.Yjl({name:"safe",type:a,pure:!0}),a})(),Dn=(()=>{class a{constructor(e,n){this.sanitizer=e,this.ds=n}ngOnInit(){this.data=this.ds.get_input_data(this.url)?.iframe_data}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(y.H7),t.Y36(f.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-iframe"]],inputs:{url:"url"},decls:2,vars:5,consts:[[3,"src","height","width"]],template:function(e,n){1&e&&(t._UZ(0,"iframe",0),t.ALo(1,"safe")),2&e&&t.Q6J("src",t.lcZ(1,3,n.data.url),t.uOi)("height",n.data.height)("width",n.data.width)},dependencies:[Fn]}),a})(),Ut=(()=>{class a{constructor(e,n,i,o,l){this.ds=e,this.sanitizer=n,this.api=i,this.renderer=o,this.document=l,this.loading=!0}ngOnInit(){this.look_up=this.api.lookup(!1,this.url),this.page=this.ds.get_page(),this.ds.input_emitter.subscribe(n=>{if(n.lookup===this.look_up)if(void 0!==n.message)this.loading=!0;else if(n.calling)this.loading=!0;else{let i=n.t;if(this.loading=!1,this.htmlStr=this.sanitizer.bypassSecurityTrustHtml(i.custom_html_data?.html),void 0!==i?.custom_html_data?.script){const o=this.renderer.createElement("script");this.renderer.setProperty(o,"text",i?.custom_html_data?.script),this.renderer.appendChild(this.document.body,o)}}});let e=this.api.needToPull(!1,this.url,this.page);this.api.call_this.emit({forced:e,url:this.url,look_up:this.look_up,page:this.page,isSidebar:!1})}striptHide(){return void 0===this.scriptStr}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(y.H7),t.Y36(Mt),t.Y36(t.Qsj),t.Y36(g.K0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-custom-html"]],inputs:{url:"url"},decls:2,vars:1,consts:[[3,"innerHTML"],["css",""]],template:function(e,n){1&e&&t._UZ(0,"span",0,1),2&e&&t.Q6J("innerHTML",n.htmlStr,t.oJD)}}),a})();function kn(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",2),t.qZA())}let Jn=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this._snackBar=i,this.myFiles=[],this.show=!1}reactiveity(e,n=""){let i=new x;i.page=this.ds.dataLookup(!1),i.key=this.ds.all_input.get(this.url)?.button_data?.name+"_"+e,i.value=""===n?this.ds.makeid(2):n,i.url=this.url+"_"+e,this.ds.data_setter.emit(i)}ngOnInit(){this.data=this.ds.all_input.get(this.url)?.button_data}trigger(){this.reactiveity("triggered"),void 0!==this.second_call&&this.second_call.unsubscribe();let e=this.callService.second_call_response(this.data.url,this.data.name,"");this.second_call=e.subscribe(n=>{try{this.reactiveity("result",n.button_result)}catch{}this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"API called Sucessfully ",status:"success"}}),this.reactiveity("success"),this.show=!1},n=>{this.show=!1,this.reactiveity("failed"),this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"API called Failed",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(w),t.Y36(N.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-button"]],inputs:{url:"url"},decls:3,vars:2,consts:[["mat-raised-button","","color","primary",2,"display","inline-block","position","relative",3,"click"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.trigger()}),t._uU(1),t.qZA(),t.YNc(2,kn,5,0,"span",1)),2&e&&(t.xp6(1),t.Oqu(n.data.name),t.xp6(1),t.Q6J("ngIf",n.show))},dependencies:[L.lW,G.pW,g.O5]}),a})();var vt=r(31308),ot=r(14984),An=r(5490),On=r(61528),yt=r(89181);function Mn(a,s){1&a&&(t.TgZ(0,"mat-option",6),t._UZ(1,"mat-spinner",7),t.qZA())}function In(a,s){if(1&a&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Qn(a,s){if(1&a&&(t.ynx(0),t.YNc(1,In,2,2,"mat-option",8),t.ALo(2,"async"),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.filteredOptions))}}let Pn=(()=>{class a extends vt.mL{constructor(e,n){super(n),this.callService=e,this.url="",this.name="",this.fetchSuggestions=i=>this.callService.second_call_response(this.url,this.name,i),this.isLoading=!1}ngOnInit(){super.ngOnInit(),this.url=this.scopedSchema.url,this.name=this.scopedSchema.search_name,this.form.valueChanges.pipe((0,Yt.b)(300),(0,Pt.b)(()=>this.isLoading=!0),(0,On.w)(e=>this.fetchSuggestions(e).pipe((0,An.x)(()=>this.isLoading=!1)))).subscribe(e=>this.options=e.simple_fitler_data)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(w),t.Y36(yt.KT))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-json-forms-server-side"]],features:[t.qOj],decls:10,vars:8,consts:[["fxFlex",""],["matInput","","type","text",3,"placeholder","id","formControl","matAutocomplete","input"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[4,"ngIf"],[1,"is-loading"],["diameter","30"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"input",1),t.NdJ("input",function(o){return n.onChange(o)}),t.qZA(),t.TgZ(4,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(o){return n.onSelect(o)}),t.YNc(6,Mn,2,0,"mat-option",4),t.YNc(7,Qn,3,3,"ng-container",5),t.qZA(),t.TgZ(8,"mat-error"),t._uU(9),t.qZA()()),2&e){const i=t.MAs(5);t.xp6(2),t.Oqu(n.label),t.xp6(1),t.s9C("placeholder",n.description),t.Q6J("id",n.id)("formControl",n.form)("matAutocomplete",i),t.xp6(3),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading),t.xp6(2),t.Oqu(n.error)}},dependencies:[S.yH,m.Fj,m.JJ,m.oH,mt.XC,mt.ZL,T.ey,b.TO,b.KE,b.hX,et.Nt,kt.Ou,g.sg,g.O5,g.Ov]}),a})();function Yn(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"br")(2,"br")(3,"br")(4,"mat-progress-bar",3),t.qZA())}const Un=(0,ot.xDy)((0,ot.TDq)("string"),(0,ot.wcO)(a=>a.hasOwnProperty("url")));let Nn=(()=>{class a{constructor(e,n,i){this.ds=e,this.callService=n,this._snackBar=i,this.show=!1,this.renderers=[...vt.x,{tester:(0,ot.yMz)(5,Un),renderer:Pn}]}ngOnInit(){this.data=this.ds.all_input.get(this.url)?.form_data,this.formData=this.data.data}reactiveity(e){let n=new x;n.page=this.ds.dataLookup(!1),n.key=this.ds.all_input.get(this.url)?.form_data?.name+"_"+e,n.value=this.ds.makeid(2),n.url=this.url+"_"+e,this.ds.data_setter.emit(n)}trigger(){let e=new x;e.page=this.ds.dataLookup(!1),e.url=this.url,e.key=this.data.name,e.value=this.formData,this.show=!0,this.ds.data_setter.emit(e),this.reactiveity("triggered");let n=this.callService.call_response(this.data.submit_info.url,void 0,void 0);this.call=n.subscribe(i=>{this.reactiveity("success"),this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"API called Sucessfully ",status:"success"}}),this.show=!1},i=>{this.reactiveity("failed"),this.show=!1,this._snackBar.openFromComponent(Z,{duration:5e3,data:{message:"API called Failed",status:"error"}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(w),t.Y36(N.ux))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-form"]],inputs:{url:"url"},decls:5,vars:6,consts:[[3,"data","schema","uischema","renderers","dataChange"],["mat-raised-button","","color","primary",2,"position","absolute","left","50%",3,"click"],[4,"ngIf"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"jsonforms",0),t.NdJ("dataChange",function(o){return n.formData=o}),t.qZA(),t.TgZ(1,"button",1),t.NdJ("click",function(){return n.trigger()}),t._uU(2),t.qZA(),t._UZ(3,"br"),t.YNc(4,Yn,5,0,"span",2)),2&e&&(t.Q6J("data",n.formData)("schema",n.data.form_schema)("uischema",n.data.ui_schema)("renderers",n.renderers),t.xp6(2),t.Oqu(n.data.submit_info.name),t.xp6(2),t.Q6J("ngIf",n.show))},dependencies:[L.lW,G.pW,g.O5,yt.C]}),a})();function En(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-box",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Ln(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-datetime",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Rn(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-table",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function qn(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-plot",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Hn(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-checkbox",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function Gn(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-radio",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function jn(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-slider",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Bn(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-button-toggle",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function zn(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-toggle",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function Kn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"app-entry-point",7),t.NdJ("fx",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setFlex(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setReactivity(l.url,i))}),t.qZA(),t._UZ(2,"br"),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i,o,l,p,d;t.xp6(1),t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",n.isSidebar)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"100%%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"100%")("fxFlex.sm",(null==(p=n.flexData.get(e.url))?null:p.fxFlex_sm)||"100%")("fxFlex.xs",(null==(d=n.flexData.get(e.url))?null:d.fxFlex_sm)||"100%")}}function Xn(a,s){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,Kn,3,7,"span",6),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.getURLs())}}function $n(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"mat-tab",9),t._UZ(1,"br"),t.TgZ(2,"app-sub-entry-point",10),t.NdJ("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setReactivity(l.url,i))})("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setReactivity(l.url,i))})("fd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setFlex(l.url,i))}),t.qZA()()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i,o,l,p,d;t.Q6J("label",e.name||""),t.xp6(2),t.Q6J("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("url",e.url)("isSidebar",n.isSidebar)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"100%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"100%")("fxFlex.sm",(null==(p=n.flexData.get(e.url))?null:p.fxFlex_sm)||"100%")("fxFlex.xs",(null==(d=n.flexData.get(e.url))?null:d.fxFlex_sm)||"100%")}}function Wn(a,s){if(1&a&&(t.TgZ(0,"span")(1,"mat-tab-group"),t.YNc(2,$n,3,8,"mat-tab",8),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.getURLs())}}function Vn(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4),t.qZA()(),t._UZ(5,"br"),t.TgZ(6,"mat-panel-description",5)(7,"app-sub-entry-point",11),t.NdJ("rd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setReactivity(l.url,i))})("fd",function(i){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.setFlex(l.url,i))}),t.qZA()()()()}if(2&a){const e=s.$implicit,n=t.oxw(2);let i,o,l,p,d;t.xp6(4),t.hij(" ",e.name," "),t.xp6(3),t.Q6J("url",e.url)("isSidebar",n.isSidebar)("hidden",null==(i=n.reactivityData.get(e.url))?null:i.hidden)("fxFlex",(null==(o=n.flexData.get(e.url))?null:o.fxFlex)||"100%")("fxFlex.md",(null==(l=n.flexData.get(e.url))?null:l.fxFlex_md)||"100%")("fxFlex.sm",(null==(p=n.flexData.get(e.url))?null:p.fxFlex_sm)||"50%")("fxFlex.xs",(null==(d=n.flexData.get(e.url))?null:d.fxFlex_sm)||"100%")}}function ta(a,s){if(1&a&&(t.TgZ(0,"span")(1,"mat-accordion"),t._UZ(2,"br")(3,"br"),t.YNc(4,Vn,8,8,"span",6),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.getURLs())}}function ea(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-simple-filter",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function na(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-simple-server-filter",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function aa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-group-filter",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function ia(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-input",4),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)("isSidebar",e.isSidebar)}}function sa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-app-download",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function oa(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-app-upload",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function la(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-app-image",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function ra(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-highchart",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function pa(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-app-iframe",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function ca(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-custom-html",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.url)}}function da(a,s){if(1&a&&(t.TgZ(0,"span",5),t._UZ(1,"app-button",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function ua(a,s){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"app-form",3),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("url",e.look_up)}}function _a(a,s){1&a&&(t.TgZ(0,"span"),t._UZ(1,"mat-progress-bar",12),t.qZA())}function ma(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"span")(1,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.copy_error())}),t.TgZ(2,"mat-icon"),t._uU(3,"content_copy"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Copy Error"),t.qZA()(),t.TgZ(6,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.force_refresh())}),t.TgZ(7,"mat-icon"),t._uU(8,"refresh"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Refresh Data"),t.qZA()()()}}let ha=(()=>{class a{constructor(e,n,i,o){this.ds=e,this.clipboard=n,this.dialog=i,this.api=o,this.rd=new t.vpe,this.fd=new t.vpe,this.reactivityData=new Map,this.flexData=new Map,this.reactive=new Nt,this.d=new Map,this.loading=!0,this.failed=!1}ngOnInit(){this.look_up=this.api.lookup(this.isSidebar,this.url),this.page=this.ds.get_page(),this.ds.input_emitter.subscribe(n=>{if(n.lookup===this.look_up)if(void 0!==n.message)this.loading=!0,this.failed=!0,this.error=n.message,this.tooltip_data=void 0,this.dialog_data=void 0,this.name=void 0,this.type=void 0;else if(n.calling)this.loading=!0,this.failed=!1,this.tooltip_data=void 0,this.dialog_data=void 0,this.name=void 0,this.type=void 0;else{let i=n.t;this.loading=!1,this.failed=!1,this.tooltip_data=i?.tooltip_data,this.dialog_data=i?.dialog_data,this.reactive=i?.reactive,this.fd.emit(i.flex),this.rd.emit(this.reactive),this.name=this.api.set_name(i),this.type=i?.type,this.multi_url=this.api.get_multi_url(i)}});let e=this.api.needToPull(this.isSidebar,this.url,this.page);this.api.call_this.emit({forced:e,url:this.url,look_up:this.look_up,page:this.page,isSidebar:this.isSidebar})}getURLs(){return this.multi_url}setFlex(e,n){this.flexData.set(e,n)}setReactivity(e,n){this.reactivityData.set(e,n)}copy_error(){this.clipboard.copy(this.error)}force_refresh(){this.api.getData(!0,this.url,this.look_up,this.page,this.isSidebar,"")}openDialog(){this.dialog_data&&this.dialog.open(Je,{height:this.dialog_data.height,width:this.dialog_data.width,data:this.dialog_data.url})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.D),t.Y36(dt.TU),t.Y36(V.uw),t.Y36(Mt))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-sub-entry-point"]],inputs:{url:"url",isSidebar:"isSidebar"},outputs:{rd:"rd",fd:"fd"},decls:28,vars:28,consts:[[3,"matTooltip","matTooltipDisabled","click"],[4,"ngIf"],["class","center",4,"ngIf"],[3,"url"],[3,"url","isSidebar"],[1,"center"],[4,"ngFor","ngForOf"],[1,"padding",3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","fx","rd"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"hidden","url","isSidebar","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","rd","fd"],[3,"url","isSidebar","hidden","fxFlex","fxFlex.md","fxFlex.sm","fxFlex.xs","rd","fd"],["mode","query"],["mat-menu-item","",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"span",0),t.NdJ("click",function(){return n.openDialog()}),t.YNc(1,En,2,1,"span",1),t.YNc(2,Ln,2,2,"span",1),t.YNc(3,Rn,2,1,"span",1),t.YNc(4,qn,2,1,"span",1),t.YNc(5,Hn,2,1,"span",2),t.YNc(6,Gn,2,2,"span",2),t.YNc(7,jn,2,2,"span",2),t.YNc(8,Bn,2,2,"span",2),t.YNc(9,zn,2,2,"span",2),t.YNc(10,Xn,2,1,"span",1),t.YNc(11,Wn,3,1,"span",1),t.YNc(12,ta,5,1,"span",1),t.YNc(13,ea,2,2,"span",2),t.YNc(14,na,2,2,"span",2),t.YNc(15,aa,2,2,"span",2),t.YNc(16,ia,2,2,"span",2),t.YNc(17,sa,2,1,"span",2),t.YNc(18,oa,2,1,"span",2),t.YNc(19,la,2,1,"span",1),t.YNc(20,ra,2,1,"span",1),t.YNc(21,pa,2,1,"span",1),t.YNc(22,ca,2,1,"span",1),t.YNc(23,da,2,1,"span",2),t.YNc(24,ua,2,1,"span",1),t.YNc(25,_a,2,0,"span",1),t._UZ(26,"br"),t.YNc(27,ma,11,0,"span",1),t.qZA()),2&e){let i;t.Q6J("matTooltip",null!==(i=null==n.tooltip_data?null:n.tooltip_data.label)&&void 0!==i?i:"")("matTooltipDisabled",void 0===n.tooltip_data),t.xp6(1),t.Q6J("ngIf","box"===n.type),t.xp6(1),t.Q6J("ngIf","date"===n.type),t.xp6(1),t.Q6J("ngIf","table"===n.type),t.xp6(1),t.Q6J("ngIf","chart"===n.type),t.xp6(1),t.Q6J("ngIf","checkbox"===n.type),t.xp6(1),t.Q6J("ngIf","radio"===n.type),t.xp6(1),t.Q6J("ngIf","slider"===n.type),t.xp6(1),t.Q6J("ngIf","button_toggle"===n.type),t.xp6(1),t.Q6J("ngIf","toggle"===n.type),t.xp6(1),t.Q6J("ngIf","multi_list"===n.type),t.xp6(1),t.Q6J("ngIf","multi_tabs"===n.type),t.xp6(1),t.Q6J("ngIf","multi_expand"===n.type),t.xp6(1),t.Q6J("ngIf","simple_filter"==n.type),t.xp6(1),t.Q6J("ngIf","simple_server_filter"==n.type),t.xp6(1),t.Q6J("ngIf","group_filter"==n.type),t.xp6(1),t.Q6J("ngIf","input"==n.type),t.xp6(1),t.Q6J("ngIf","download"==n.type),t.xp6(1),t.Q6J("ngIf","upload"==n.type),t.xp6(1),t.Q6J("ngIf","image"==n.type),t.xp6(1),t.Q6J("ngIf","highchart"==n.type),t.xp6(1),t.Q6J("ngIf","iframe"==n.type),t.xp6(1),t.Q6J("ngIf","custom_html"==n.type),t.xp6(1),t.Q6J("ngIf","button"==n.type),t.xp6(1),t.Q6J("ngIf","form"==n.type),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(2),t.Q6J("ngIf",n.failed)}},dependencies:[S.yH,Y.pp,Y.ib,Y.yz,Y.yK,Y.u4,q.Hw,$.OP,G.pW,xt.SP,xt.uX,At.gM,g.sg,g.O5,Oe,Qe,Ge,je,$e,nn,W,an,on,ln,cn,mn,a,gn,xn,Cn,vn,yn.q,Zn,Dn,Ut,Jn,Nn],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.full[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}"]}),a})();var ga=r(44740),fa=r(44083);let xa=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a,bootstrap:[se]}),a.\u0275inj=t.cJS({providers:[fa.N],imports:[Ze.o9,m.u5,m.UX,_e.rt,me.XD,dt.Iq,xe.U5,_t.HT,be.nZ,he._t,mt.Bb,Ce.g,ve._r,L.ot,ht.vV,J.QW,Dt.p9,ye.Hi,Te.T5,U.FA,V.Is,Zt.t,Y.To,tt.N6,q.Ps,et.c,H.ie,$.Tx,T.XK,gt.TU,G.Cv,kt.Cq,ft.Fk,T.si,at.LD,nt.SJ,Jt.KP,ut.rP,N.ZX,it.JX,A.p0,xt.Nh,wt.g0,At.AV,Se.dp,we.U8,ge.eL,fe.Cl,y.b2,E.JF,de,D.Bz,ue.PW,Tt.xu,Ot.Ns.forRoot({echarts:()=>r.e(275).then(r.bind(r,36275))}),st.Co,Qt.pL,ga.SD,yt.R2,vt.D]}),a})();t.B6R(W,function(){return[J.a8,J.dk,J.dn,J.rt,g.O5,ha,Ut]},[]),(0,t.G48)(),y.q6().bootstrapModule(xa).catch(a=>console.error(a)),console.info("Angular CDK version",lt.q.full),console.info("Angular Material version",T.q4.full)}},F=>{F.O(0,[736],()=>F(F.s=41877)),F.O()}]);